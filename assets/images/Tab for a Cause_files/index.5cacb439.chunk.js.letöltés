(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"S",function(){return r}),n.d(t,"T",function(){return i}),n.d(t,"U",function(){return o}),n.d(t,"V",function(){return l}),n.d(t,"W",function(){return s}),n.d(t,"P",function(){return u}),n.d(t,"O",function(){return c}),n.d(t,"R",function(){return d}),n.d(t,"Q",function(){return m}),n.d(t,"A",function(){return p}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return h}),n.d(t,"s",function(){return b}),n.d(t,"K",function(){return y}),n.d(t,"H",function(){return v}),n.d(t,"t",function(){return k}),n.d(t,"L",function(){return O}),n.d(t,"B",function(){return C}),n.d(t,"C",function(){return E}),n.d(t,"D",function(){return w}),n.d(t,"J",function(){return j}),n.d(t,"I",function(){return S}),n.d(t,"E",function(){return x}),n.d(t,"F",function(){return F}),n.d(t,"z",function(){return I}),n.d(t,"o",function(){return T}),n.d(t,"w",function(){return U}),n.d(t,"u",function(){return L}),n.d(t,"v",function(){return N}),n.d(t,"G",function(){return D}),n.d(t,"y",function(){return M}),n.d(t,"x",function(){return R}),n.d(t,"k",function(){return A}),n.d(t,"n",function(){return K}),n.d(t,"m",function(){return P}),n.d(t,"l",function(){return W}),n.d(t,"b",function(){return _}),n.d(t,"M",function(){return B}),n.d(t,"e",function(){return V}),n.d(t,"a",function(){return z}),n.d(t,"c",function(){return H}),n.d(t,"N",function(){return G}),n.d(t,"f",function(){return q}),n.d(t,"g",function(){return $}),n.d(t,"h",function(){return Y}),n.d(t,"i",function(){return J}),n.d(t,"j",function(){return Q});var a=150,r="bookmarks",i="clock",o="notes",l="search",s="todos",u="custom",c="color",d="photo",m="daily",p="tab.user.username",g="tab.user.background.color",f="tab.user.background.customImage",h="tab.user.background.imageURL",b="tab.user.background.option",y="tab.user.lastTabDay.date",v="tab.user.notifications.dismissTime",k="tab.user.campaign.dismissTime",O="tab.user.lastTabDay.count",C="tab.clientLocation.countryIsoCode",E="tab.clientLocation.isInEU",w="tab.clientLocation.queryTime",j="tab.referralData.referringUser",S="tab.referralData.referringChannel",x="tab.consentData.newConsentDataExists",F="tab.newUser.hasCompletedTour",I="tab.newUser.extensionInstallId",T="tab.newUser.approxInstallTime",U="tab.newUser.dismissedAdExplanation",L="tab.newUser.clickedNewTabSearchIntro",N="tab.newUser.clickedNewTabSearchIntroV2",D="tab.newUser.isTabV4Enabled",M="tab.experiments",R="tab.experiments.anonUser",A="search.newUser.dismissedIntro",K="search.user.bingClientID",P="search.referralData.referringUser",W="search.referralData.referringChannel",_="USER_DOES_NOT_EXIST",B="tab",V="search",z="chrome",H="firefox",G="other",q="bing",$="codefuel",Y="yahoo",J="chrome",Q="ff"},10:function(e,t,n){"use strict";n.d(t,"h",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"i",function(){return g}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h});var a=n(123),r=n(209),i=n(623),o=n.n(i),l="#9d4ba3",s=Object(r.fade)(a.darkBlack,.3),u="600";t.g={spacing:o.a,fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',palette:{primary1Color:l,primary2Color:"#6c1b74",primary3Color:"#d07ad5",accent1Color:"#d07ad5",accent2Color:"#d07ad5",accent3Color:"#d07ad5",textColor:"#212121",alternateTextColor:"#FFFFFF",canvasColor:a.white,borderColor:"#BDBDBD",disabledColor:s,pickerHeaderColor:a.cyan500,clockCircleColor:Object(r.fade)(a.darkBlack,.07),shadowColor:a.fullBlack},fontIcon:{color:"#212121",hoverColor:"#212121"},chip:{deleteIconColor:"#212121"},flatButton:{fontSize:13,fontWeight:u},raisedButton:{fontSize:13,fontWeight:u},textField:{underlineColor:"#BDBDBD",underlineFocusStyle:"#212121"},toggle:{thumbOffColor:"#f3d6f5",trackOffColor:"#d4add6"}};var c="rgba(255, 255, 255, 0.8)",d=a.white,m="rgba(0, 0, 0, 0.36)",p="rgba(255,255,255,.3)",g=a.white,f={fontSize:20,fontWeight:"normal"},h={fontSize:14,fontWeight:"normal"}},1230:function(e,t){},1232:function(e,t){},125:function(e,t,n){"use strict";var a=n(114),r=n(218),i=n(155),o=n(9),l=n(1),s=n(19),u=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"days";return function(n){return u()().diff(u()(n.joined),t)>e}},d=n(86),m=n(14),p=function(){return n(1330)};var g=function(e,t){var n=t.userId,a=t.experimentGroups,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return Object(m.commitMutation)(e,{mutation:p,variables:{input:{userId:n,experimentGroups:a}},onCompleted:r,onError:i})};n.d(t,"a",function(){return v}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"e",function(){return j});var f,h=function(e){var t=e.name,n=e.active,s=void 0!==n&&n,u=e.disabled,c=void 0!==u&&u,m=e.groups,p=e.filters,f=void 0===p?[]:p,h=e.percentageOfExistingUsersInExperiment,b=void 0===h?0:h,v=e.percentageOfNewUsersInExperiment,k=void 0===v?100:v;if(!t)throw new Error('An experiment must have a unique "name" value.');return{name:t,active:s,disabled:c,percentageOfExistingUsersInExperiment:b,percentageOfNewUsersInExperiment:k,filters:f,groups:Object.assign({},m,Object(a.a)({},"NONE",y)),_localStorageKey:"".concat(l.y,".").concat(t),_saveTestGroupToLocalStorage:function(e){o.a.setItem(this._localStorageKey,e)},_localStorageKeyForPercentage:"".concat(l.y,".").concat(t,".percentageOfUsersLastAssigned"),_savePercentageUsersToLocalStorage:function(){o.a.setItem(this._localStorageKeyForPercentage,this.percentageOfExistingUsersInExperiment)},_getPercentageUsersFromLocalStorage:function(){var e=parseFloat(o.a.getItem(this._localStorageKeyForPercentage),10);return isNaN(e)?0:e},_hasBeenAssignedToGroup:function(){return!Object(i.isNil)(o.a.getItem(this._localStorageKey))},_saveTestGroup:function(e,t){this._saveTestGroupToLocalStorage(e.value),this._savePercentageUsersToLocalStorage();var n=this.name;g(d.a,{userId:t.id,experimentGroups:Object(a.a)({},n,e.schemaValue)})},assignTestGroup:function(e){if(this.active){var t=this._getPercentageUsersFromLocalStorage();if(this.filters.every(function(t){return t.call(this,e)})){var n=this.getTestGroup();if(!this._hasBeenAssignedToGroup()||n.value===this.groups.NONE.value&&this.percentageOfExistingUsersInExperiment>t){var a=Object(r.filter)(this.groups,function(e){return e.value!==y.value});if(a.length){var i=e.isNewUser?this.percentageOfNewUsersInExperiment:100*(this.percentageOfExistingUsersInExperiment-t)/(100-t);if(100*Math.random()>i)this._saveTestGroup(this.groups.NONE,e);else{var o=a[Math.floor(Math.random()*a.length)];this._saveTestGroup(o,e)}}else this._saveTestGroup(this.groups.NONE,e)}}}},getTestGroup:function(){if(this.disabled)return this.groups.NONE;var e=o.a.getItem(this._localStorageKey);return Object(r.find)(this.groups,{value:e})||this.groups.NONE}}},b=function(e){var t=e.value,n=e.schemaValue;if(!t||!n)throw new Error('An experiment group must have values for the "value" and "schemaValue" keys.');return{value:t,schemaValue:n}},y=b({value:"none",schemaValue:"NONE"}),v="referralNotification",k=[h({name:"searchIntro",active:!0,disabled:!0,percentageOfExistingUsersInExperiment:20,percentageOfNewUsersInExperiment:50,filters:[(f=[function(e){return!!e.isNewUser},c(2,"months")],function(e){return f.some(function(t){return t(e)})})],groups:{NO_INTRO:b({value:"noIntro",schemaValue:"NO_INTRO"}),INTRO_A:b({value:"introA",schemaValue:"INTRO_A"}),INTRO_HOMEPAGE:b({value:"introHomepage",schemaValue:"INTRO_HOMEPAGE"})}}),h({name:v,active:!1,disabled:!0,percentageOfExistingUsersInExperiment:30,percentageOfNewUsersInExperiment:0,filters:[function(e){return 0===e.numUsersRecruited},c(3,"days")],groups:{NO_NOTIFICATION:b({value:"noNotification",schemaValue:"NO_NOTIFICATION"}),COPY_A:b({value:"copyA",schemaValue:"COPY_A"}),COPY_B:b({value:"copyB",schemaValue:"COPY_B"}),COPY_C:b({value:"copyC",schemaValue:"COPY_C"}),COPY_D:b({value:"copyD",schemaValue:"COPY_D"}),COPY_E:b({value:"copyE",schemaValue:"COPY_E"})}})],O=function(){return k},C=function(e){if(!e)throw new Error("Must provide an experiment name.");var t=Object(r.find)(O(),{name:e});if(!t)return Object(a.a)({},"NONE",y.value);var n=t.groups;return Object.keys(n).reduce(function(e,t){return e[t]=n[t].value,e},{})},E=function(e){if(!e)throw new Error("Must provide an experiment name.");var t=Object(r.find)(O(),{name:e});return t?t.getTestGroup().value:y.value},w=function(e){O().forEach(function(t){t.active&&t.assignTestGroup(e)})},j=function(){return O().reduce(function(e,t){return e[t.name]=t.getTestGroup().schemaValue,e},{})}},1269:function(e,t){},1270:function(e,t){},1328:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"CreateNewUserInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"createNewUser",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateNewUserPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"email",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CreateNewUserMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"CreateNewUserMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"CreateNewUserMutation",id:null,text:"mutation CreateNewUserMutation(\n  $input: CreateNewUserInput!\n) {\n  createNewUser(input: $input) {\n    user {\n      id\n      email\n      username\n    }\n  }\n}\n",metadata:{}}}}();a.hash="fc25db3c5643bbcf8e46d09732780fa3",e.exports=a},1329:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"LogEmailVerifiedMutationInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"logEmailVerified",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"LogEmailVerifiedMutationPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LogEmailVerifiedMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"LogEmailVerifiedMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"LogEmailVerifiedMutation",id:null,text:"mutation LogEmailVerifiedMutation(\n  $input: LogEmailVerifiedMutationInput!\n) {\n  logEmailVerified(input: $input) {\n    user {\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="3b384ecf331d8d3428ffd5bbe22b78a9",e.exports=a},1330:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"UpdateUserExperimentGroupsInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"updateUserExperimentGroups",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateUserExperimentGroupsPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UpdateUserExperimentGroupsMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"UpdateUserExperimentGroupsMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"UpdateUserExperimentGroupsMutation",id:null,text:"mutation UpdateUserExperimentGroupsMutation(\n  $input: UpdateUserExperimentGroupsInput!\n) {\n  updateUserExperimentGroups(input: $input) {\n    user {\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="ba9b4c9a172d4cc274966a954481fb63",e.exports=a},1341:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"SetUserBkgDailyImageInput!",defaultValue:null}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={kind:"ScalarField",alias:null,name:"backgroundOption",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"backgroundImage",storageKey:null,args:null,concreteType:"BackgroundImage",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"imageURL",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"timestamp",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"SetBackgroundDailyImageMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"setUserBkgDailyImage",storageKey:null,args:t,concreteType:"SetUserBkgDailyImagePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,r]}]}]},operation:{kind:"Operation",name:"SetBackgroundDailyImageMutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"setUserBkgDailyImage",storageKey:null,args:t,concreteType:"SetUserBkgDailyImagePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,r,a]}]}]},params:{operationKind:"mutation",name:"SetBackgroundDailyImageMutation",id:null,text:"mutation SetBackgroundDailyImageMutation(\n  $input: SetUserBkgDailyImageInput!\n) {\n  setUserBkgDailyImage(input: $input) {\n    user {\n      backgroundOption\n      backgroundImage {\n        id\n        imageURL\n        timestamp\n      }\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="50f99e8a8c2ce7d300f7a57c4a15371f",e.exports=a},1343:function(e,t,n){"use strict";var a={kind:"Fragment",name:"UserBackgroundImageContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"backgroundOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"customImage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"backgroundColor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"backgroundImage",storageKey:null,args:null,concreteType:"BackgroundImage",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"imageURL",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"timestamp",args:null,storageKey:null}]}],hash:"145a4f533fcf42c7355d51459702c96d"};e.exports=a},1344:function(e,t,n){"use strict";var a={kind:"Fragment",name:"MoneyRaisedContainer_app",type:"App",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"moneyRaised",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dollarsPerDayRate",args:null,storageKey:null}],hash:"8d58b1350b6477d8ee290add8e1d271f"};e.exports=a},1371:function(e,t,n){"use strict";var a={kind:"Fragment",name:"HeartsContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"vcCurrent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabsToday",args:null,storageKey:null}],hash:"64adb5c4e38e402b97941766dd6a5d0c"};e.exports=a},1378:function(e,t,n){"use strict";var a={kind:"Fragment",name:"HeartsDropdownContainer_app",type:"App",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"referralVcReward",args:null,storageKey:null}],hash:"47d4f1227f7115d8412229103f6ab617"};e.exports=a},1379:function(e,t,n){"use strict";var a={kind:"Fragment",name:"HeartsDropdownContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vcCurrent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"level",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"heartsUntilNextLevel",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vcDonatedAllTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUsersRecruited",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabsToday",args:null,storageKey:null}],hash:"d4b70b25f7a77591d61fad11d1bd7430"};e.exports=a},1388:function(e,t,n){"use strict";var a={kind:"Fragment",name:"UserMenuContainer_app",type:"App",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"MoneyRaisedContainer_app",args:null},{kind:"FragmentSpread",name:"HeartsDropdownContainer_app",args:null}],hash:"11167d894b76cdefb45f89ba0086923a"};e.exports=a},1389:function(e,t,n){"use strict";var a={kind:"Fragment",name:"UserMenuContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"HeartsContainer_user",args:null},{kind:"FragmentSpread",name:"HeartsDropdownContainer_user",args:null}],hash:"fd431d0585b5817696888cc994afe714"};e.exports=a},1410:function(e,t,n){"use strict";var a={kind:"Fragment",name:"WidgetIconContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"visible",args:null,storageKey:null}],hash:"bdfef46af212213efb1aef4c634d4a8a"};e.exports=a},1444:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"UpdateWidgetDataInput!",defaultValue:null}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UpdateWidgetDataMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"updateWidgetData",storageKey:null,args:t,concreteType:"UpdateWidgetDataPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"widget",storageKey:null,args:null,concreteType:"Widget",plural:!1,selections:[n]}]}]},operation:{kind:"Operation",name:"UpdateWidgetDataMutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"updateWidgetData",storageKey:null,args:t,concreteType:"UpdateWidgetDataPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"widget",storageKey:null,args:null,concreteType:"Widget",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"UpdateWidgetDataMutation",id:null,text:"mutation UpdateWidgetDataMutation(\n  $input: UpdateWidgetDataInput!\n) {\n  updateWidgetData(input: $input) {\n    widget {\n      data\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="779999ee36248fb05842ed1964087919",e.exports=a},1445:function(e,t,n){"use strict";var a={kind:"Fragment",name:"BookmarksWidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"visible",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}],hash:"514961423238dba8006dc6e5f4f9fbf8"};e.exports=a},1446:function(e,t,n){"use strict";var a={kind:"Fragment",name:"BookmarksWidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"1116745567fbd3546789253d635752ac"};e.exports=a},1447:function(e,t,n){"use strict";var a={kind:"Fragment",name:"SearchWidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"config",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"settings",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}],hash:"923e61c7bf8901c9d58106111518d996"};e.exports=a},1448:function(e,t,n){"use strict";var a={kind:"Fragment",name:"SearchWidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"8e92c17960a693d18485f0714d95af79"};e.exports=a},1449:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ClockWidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"config",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"settings",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}],hash:"4b0423624c7b83a6515ee712c6554bef"};e.exports=a},1450:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ClockWidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"0b6e0b03a2b28a7a066b5b2a9250c30c"};e.exports=a},1474:function(e,t,n){"use strict";var a={kind:"Fragment",name:"NotesWidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"visible",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}],hash:"5310709e262754d5c517227bec22c4b8"};e.exports=a},1475:function(e,t,n){"use strict";var a={kind:"Fragment",name:"NotesWidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"ffa584151975cac7a92e5c62231e6b1b"};e.exports=a},1482:function(e,t,n){"use strict";var a={kind:"Fragment",name:"TodosWidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"visible",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}],hash:"1d2e22c7aecfad49a1b3fe27b76b718e"};e.exports=a},1483:function(e,t,n){"use strict";var a={kind:"Fragment",name:"TodosWidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"1add81b6529f0c97903c0d0f28d9af8e"};e.exports=a},1484:function(e,t,n){"use strict";var a={kind:"Fragment",name:"WidgetContainer_widget",type:"Widget",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"FragmentSpread",name:"BookmarksWidgetContainer_widget",args:null},{kind:"FragmentSpread",name:"SearchWidgetContainer_widget",args:null},{kind:"FragmentSpread",name:"ClockWidgetContainer_widget",args:null},{kind:"FragmentSpread",name:"NotesWidgetContainer_widget",args:null},{kind:"FragmentSpread",name:"TodosWidgetContainer_widget",args:null}],hash:"219df5ac5e2f6c46fa93156450c20d14"};e.exports=a},1485:function(e,t,n){"use strict";var a={kind:"Fragment",name:"WidgetContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"BookmarksWidgetContainer_user",args:null},{kind:"FragmentSpread",name:"SearchWidgetContainer_user",args:null},{kind:"FragmentSpread",name:"ClockWidgetContainer_user",args:null},{kind:"FragmentSpread",name:"NotesWidgetContainer_user",args:null},{kind:"FragmentSpread",name:"TodosWidgetContainer_user",args:null}],hash:"72463cb7c70533dabda1b64cdafc8624"};e.exports=a},1486:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"SetUserActiveWidgetInput!",defaultValue:null}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={kind:"ScalarField",alias:null,name:"activeWidget",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"SetUserActiveWidgetMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"setUserActiveWidget",storageKey:null,args:t,concreteType:"SetUserActiveWidgetPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n]}]}]},operation:{kind:"Operation",name:"SetUserActiveWidgetMutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"setUserActiveWidget",storageKey:null,args:t,concreteType:"SetUserActiveWidgetPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"SetUserActiveWidgetMutation",id:null,text:"mutation SetUserActiveWidgetMutation(\n  $input: SetUserActiveWidgetInput!\n) {\n  setUserActiveWidget(input: $input) {\n    user {\n      activeWidget\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="b8842e2cd7d06c98b63f8634e1c13cb4",e.exports=a},1487:function(e,t,n){"use strict";var a=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"WidgetsContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[e,{kind:"ScalarField",alias:null,name:"activeWidget",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"widgets",storageKey:"widgets(enabled:true,first:20)",args:[{kind:"Literal",name:"enabled",value:!0},{kind:"Literal",name:"first",value:20}],concreteType:"WidgetConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"WidgetEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Widget",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"FragmentSpread",name:"WidgetContainer_widget",args:null},{kind:"FragmentSpread",name:"WidgetIconContainer_widget",args:null}]}]}]},{kind:"FragmentSpread",name:"WidgetContainer_user",args:null}]}}();a.hash="e3b6f600329cff6495ef999c25d4b03f",e.exports=a},1488:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"LogTabInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"logTab",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"LogTabPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"heartsUntilNextLevel",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"level",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabs",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabsToday",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vcCurrent",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LogTabMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"LogTabMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"LogTabMutation",id:null,text:"mutation LogTabMutation(\n  $input: LogTabInput!\n) {\n  logTab(input: $input) {\n    user {\n      id\n      heartsUntilNextLevel\n      level\n      tabs\n      tabsToday\n      vcCurrent\n    }\n  }\n}\n",metadata:{}}}}();a.hash="2a59efaca4e64321437a5ccb96753c0a",e.exports=a},1489:function(e,t,n){"use strict";var a={kind:"Fragment",name:"LogTabContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"6fa1db8df0de1d3467b7dfc64de4d82d"};e.exports=a},1490:function(e,t,n){"use strict";var a={kind:"Fragment",name:"LogAccountCreationContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"tabs",args:null,storageKey:null}],hash:"8cc603755d6dc31f91ced32ad999df9c"};e.exports=a},1491:function(e,t,n){"use strict";var a={kind:"Fragment",name:"AssignExperimentGroupsContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"joined",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUsersRecruited",args:null,storageKey:null}],hash:"8dc117c6588d81c70c7a6657a37d5577"};e.exports=a},1492:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"LogUserExperimentActionsInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"logUserExperimentActions",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"LogUserExperimentActionsPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LogUserExperimentActionsMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"LogUserExperimentActionsMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"LogUserExperimentActionsMutation",id:null,text:"mutation LogUserExperimentActionsMutation(\n  $input: LogUserExperimentActionsInput!\n) {\n  logUserExperimentActions(input: $input) {\n    user {\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="332a5dcb4a90c588d99f249760334104",e.exports=a},1493:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"LogUserRevenueInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"logUserRevenue",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"LogUserRevenuePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LogUserRevenueMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"LogUserRevenueMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"LogUserRevenueMutation",id:null,text:"mutation LogUserRevenueMutation(\n  $input: LogUserRevenueInput!\n) {\n  logUserRevenue(input: $input) {\n    success\n  }\n}\n",metadata:{}}}}();a.hash="15f5cc90b9b7975a47fe8855e9d34cda",e.exports=a},15:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"C",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"p",function(){return g}),n.d(t,"N",function(){return f}),n.d(t,"i",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"z",function(){return y}),n.d(t,"G",function(){return v}),n.d(t,"O",function(){return k}),n.d(t,"d",function(){return O}),n.d(t,"h",function(){return C}),n.d(t,"H",function(){return E}),n.d(t,"o",function(){return w}),n.d(t,"b",function(){return j}),n.d(t,"D",function(){return S}),n.d(t,"I",function(){return x}),n.d(t,"B",function(){return F}),n.d(t,"J",function(){return I}),n.d(t,"L",function(){return T}),n.d(t,"K",function(){return U}),n.d(t,"x",function(){return L}),n.d(t,"v",function(){return N}),n.d(t,"y",function(){return D}),n.d(t,"t",function(){return M}),n.d(t,"s",function(){return R}),n.d(t,"w",function(){return A}),n.d(t,"q",function(){return K}),n.d(t,"r",function(){return P}),n.d(t,"u",function(){return W}),n.d(t,"A",function(){return _}),n.d(t,"k",function(){return B}),n.d(t,"j",function(){return V}),n.d(t,"l",function(){return z}),n.d(t,"n",function(){return H}),n.d(t,"M",function(){return G}),n.d(t,"F",function(){return q}),n.d(t,"E",function(){return $});var a=n(110),r=n(98),i=n(36),o=n(99),l=n.n(o),s=Object(a.a)(),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).keepURLParams,a=void 0!==n&&n?l.a.stringify(Object.assign({},Object(i.e)(),t)):l.a.stringify(t);if(Object(r.e)(e)){var o=a?"".concat(e,"?").concat(a):e;Object(r.a)(o)}else s.push({pathname:e,search:a?"?".concat(a):null})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).keepURLParams,a=void 0!==n&&n?l.a.stringify(Object.assign({},Object(i.e)(),t)):l.a.stringify(t);if(Object(r.e)(e)){var o=a?"".concat(e,"?").concat(a):e;Object(r.a)(o)}else s.replace({pathname:e,search:a?"?".concat(a):null})},d=function(e){if(Object(r.d)(e))return e;var t="".concat("https","://").concat("tab.gladly.io");return"".concat(t).concat(e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.absolute,r=void 0!==a&&a,o=n.keepURLParams,s=void 0!==o&&o?l.a.stringify(Object.assign({},Object(i.e)(),t)):l.a.stringify(t),u=r?d(e):e;return s?"".concat(u,"?").concat(s):u},p="/newtab/",g="/newtab/auth/",f="/newtab/auth/verify-email/",h="/newtab/auth/username/",b="/newtab/auth/welcome/",y="/newtab/auth/missing-email/",v="/newtab/settings/widgets/",k="/newtab/settings/widgets/",O="/newtab/settings/background/",C="/newtab/profile/donate/",E="/newtab/profile/stats/",w="/newtab/profile/invite/",j="/newtab/account/",S="/search",x="/v4/api/beta-opt-in",F=(d("/"),d("/privacy/")),I=d("/terms/"),T=(d("/contact/"),d("/financials/"),d("/team/"),d("/jobs/"),d("/adblockers/"),d("/adblockers/search/"),d("/plant-trees/")),U=d("/plant-trees/#challenge"),L=d("/million/"),N=d("/million/rainforest/"),D=d("/million/water/"),M=d("/million/hunger/"),R=d("/million/give/"),A=d("/million/read/"),K=d("/million/children/"),P=d("/million/educate/"),W=d("/million/match/"),_="https://goo.gl/forms/XUICFx9psTwCzEIE2",B="https://gladly.zendesk.com/hc/en-us/categories/201939608-Tab-for-a-Cause",V="https://gladly.zendesk.com/hc/en-us/requests/new",z="https://www.facebook.com/TabForACause",H="https://www.instagram.com/tabforacause/",G="https://twitter.com/TabForACause",q="https://addons.mozilla.org/en-US/firefox/addon/search-for-a-cause/",$="https://chrome.google.com/webstore/detail/search-for-a-cause/eeiiknnphladbapfamiamfimnnnodife/"},16:function(e,t,n){"use strict";var a=n(155),r=n(85),i={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},o={log:function(e){console.log(e),l(e,i.LOG)},debug:function(e){console.debug(e),l(e,i.DEBUG)},info:function(e){console.info(e),l(e,i.INFO)},warn:function(e){console.warn(e),l(e,i.WARN)},error:function(e){console.error(e),l(e,i.ERROR)}},l=function(e,t){var n;switch(t){case i.LOG:case i.DEBUG:case i.INFO:n="info";break;case i.WARN:n="warning";break;case i.ERROR:n="error";break;default:n="error"}Object(a.isError)(e)?r.a(e):r.b(e,n)};t.a=o},1716:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"LogReferralLinkClickInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"logReferralLinkClick",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"LogReferralLinkClickPayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LogReferralLinkClickMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"LogReferralLinkClickMutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"LogReferralLinkClickMutation",id:null,text:"mutation LogReferralLinkClickMutation(\n  $input: LogReferralLinkClickInput!\n) {\n  logReferralLinkClick(input: $input) {\n    success\n  }\n}\n",metadata:{}}}}();a.hash="c10cf4469c18639fae79ed1474b4d35e",e.exports=a},1717:function(e,t,n){"use strict";var a={kind:"Fragment",name:"InviteFriendContainer_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null}],hash:"0999a8a5e0f6b97b77316a1d003a11e9"};e.exports=a},1719:function(e,t,n){"use strict";var a={kind:"Fragment",name:"TreePlantingCampaignContainer_app",type:"App",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"Campaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"goal",storageKey:null,args:null,concreteType:"CampaignGoal",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"currentNumber",args:null,storageKey:null}]}]}],hash:"d38ddf43e9c650258268832e0fb9ddd3"};e.exports=a},1720:function(e,t,n){"use strict";var a={kind:"Fragment",name:"TreePlantingCampaignContainer_user",type:"User",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"startTime",type:"String",defaultValue:null},{kind:"LocalArgument",name:"endTime",type:"String",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"recruits",storageKey:null,args:[{kind:"Variable",name:"endTime",variableName:"endTime"},{kind:"Literal",name:"first",value:5e3},{kind:"Variable",name:"startTime",variableName:"startTime"}],concreteType:"UserRecruitsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"recruitsWithAtLeastOneTab",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"InviteFriendContainer_user",args:null}],hash:"3199a7e4edda3f32622b78271420e8d0"};e.exports=a},1721:function(e,t,n){"use strict";var a={kind:"Fragment",name:"DashboardContainer_app",type:"App",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"Campaign",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isLive",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"UserMenuContainer_app",args:null},{kind:"FragmentSpread",name:"TreePlantingCampaignContainer_app",args:null}],hash:"1b49e347dd2e9728ec0b4e0f19b76b22"};e.exports=a},1722:function(e,t,n){"use strict";var a={kind:"Fragment",name:"DashboardContainer_user",type:"User",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"startTime",type:"String",defaultValue:null},{kind:"LocalArgument",name:"endTime",type:"String",defaultValue:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"experimentActions",storageKey:null,args:null,concreteType:"ExperimentActionsOutput",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"referralNotification",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"searchIntro",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"joined",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"searches",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabs",args:null,storageKey:null},{kind:"FragmentSpread",name:"WidgetsContainer_user",args:null},{kind:"FragmentSpread",name:"UserBackgroundImageContainer_user",args:null},{kind:"FragmentSpread",name:"UserMenuContainer_user",args:null},{kind:"FragmentSpread",name:"LogTabContainer_user",args:null},{kind:"FragmentSpread",name:"LogAccountCreationContainer_user",args:null},{kind:"FragmentSpread",name:"NewUserTourContainer_user",args:null},{kind:"FragmentSpread",name:"AssignExperimentGroupsContainer_user",args:null},{kind:"FragmentSpread",name:"TreePlantingCampaignContainer_user",args:[{kind:"Variable",name:"endTime",variableName:"endTime"},{kind:"Variable",name:"startTime",variableName:"startTime"}]}],hash:"b1b81f5bac3db5cd2474fa6c29a89ffa"};e.exports=a},1723:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"userId",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"treeCampaignStartTime",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"treeCampaignEndTime",type:"String!",defaultValue:null}],t=[{kind:"Variable",name:"userId",variableName:"userId"}],n={kind:"Variable",name:"endTime",variableName:"treeCampaignEndTime"},a={kind:"Variable",name:"startTime",variableName:"treeCampaignStartTime"},r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"DashboardViewQuery",type:"Query",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"app",storageKey:null,args:null,concreteType:"App",plural:!1,selections:[{kind:"FragmentSpread",name:"DashboardContainer_app",args:null}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:t,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"DashboardContainer_user",args:[n,a]}]}]},operation:{kind:"Operation",name:"DashboardViewQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"app",storageKey:null,args:null,concreteType:"App",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"Campaign",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isLive",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"goal",storageKey:null,args:null,concreteType:"CampaignGoal",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"currentNumber",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"moneyRaised",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dollarsPerDayRate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"referralVcReward",args:null,storageKey:null},r]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:t,concreteType:"User",plural:!1,selections:[r,{kind:"LinkedField",alias:null,name:"experimentActions",storageKey:null,args:null,concreteType:"ExperimentActionsOutput",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"referralNotification",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"searchIntro",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"joined",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"searches",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabs",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"activeWidget",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"widgets",storageKey:"widgets(enabled:true,first:20)",args:[{kind:"Literal",name:"enabled",value:!0},{kind:"Literal",name:"first",value:20}],concreteType:"WidgetConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"WidgetEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Widget",plural:!1,selections:[r,{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"visible",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"data",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"config",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"settings",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"backgroundOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"customImage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"backgroundColor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"backgroundImage",storageKey:null,args:null,concreteType:"BackgroundImage",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"imageURL",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"timestamp",args:null,storageKey:null},r]},{kind:"ScalarField",alias:null,name:"vcCurrent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tabsToday",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"level",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"heartsUntilNextLevel",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"vcDonatedAllTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUsersRecruited",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"recruits",storageKey:null,args:[n,{kind:"Literal",name:"first",value:5e3},a],concreteType:"UserRecruitsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"recruitsWithAtLeastOneTab",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"DashboardViewQuery",id:null,text:"query DashboardViewQuery(\n  $userId: String!\n  $treeCampaignStartTime: String!\n  $treeCampaignEndTime: String!\n) {\n  app {\n    ...DashboardContainer_app\n    id\n  }\n  user(userId: $userId) {\n    ...DashboardContainer_user_1pzk8G\n    id\n  }\n}\n\nfragment DashboardContainer_app on App {\n  campaign {\n    isLive\n  }\n  ...UserMenuContainer_app\n  ...TreePlantingCampaignContainer_app\n}\n\nfragment DashboardContainer_user_1pzk8G on User {\n  id\n  experimentActions {\n    referralNotification\n    searchIntro\n  }\n  joined\n  searches\n  tabs\n  ...WidgetsContainer_user\n  ...UserBackgroundImageContainer_user\n  ...UserMenuContainer_user\n  ...LogTabContainer_user\n  ...LogAccountCreationContainer_user\n  ...NewUserTourContainer_user\n  ...AssignExperimentGroupsContainer_user\n  ...TreePlantingCampaignContainer_user_1pzk8G\n}\n\nfragment WidgetsContainer_user on User {\n  id\n  activeWidget\n  ...WidgetContainer_user\n  widgets(first: 20, enabled: true) {\n    edges {\n      node {\n        id\n        type\n        ...WidgetContainer_widget\n        ...WidgetIconContainer_widget\n      }\n    }\n  }\n}\n\nfragment UserBackgroundImageContainer_user on User {\n  id\n  backgroundOption\n  customImage\n  backgroundColor\n  backgroundImage {\n    imageURL\n    timestamp\n    id\n  }\n}\n\nfragment UserMenuContainer_user on User {\n  ...HeartsContainer_user\n  ...HeartsDropdownContainer_user\n}\n\nfragment LogTabContainer_user on User {\n  id\n}\n\nfragment LogAccountCreationContainer_user on User {\n  tabs\n}\n\nfragment NewUserTourContainer_user on User {\n  ...InviteFriendContainer_user\n}\n\nfragment AssignExperimentGroupsContainer_user on User {\n  id\n  joined\n  numUsersRecruited\n}\n\nfragment TreePlantingCampaignContainer_user_1pzk8G on User {\n  recruits(first: 5000, startTime: $treeCampaignStartTime, endTime: $treeCampaignEndTime) {\n    recruitsWithAtLeastOneTab\n  }\n  ...InviteFriendContainer_user\n}\n\nfragment InviteFriendContainer_user on User {\n  id\n  username\n}\n\nfragment HeartsContainer_user on User {\n  vcCurrent\n  tabsToday\n}\n\nfragment HeartsDropdownContainer_user on User {\n  id\n  vcCurrent\n  level\n  heartsUntilNextLevel\n  vcDonatedAllTime\n  numUsersRecruited\n  tabsToday\n}\n\nfragment WidgetContainer_user on User {\n  ...BookmarksWidgetContainer_user\n  ...SearchWidgetContainer_user\n  ...ClockWidgetContainer_user\n  ...NotesWidgetContainer_user\n  ...TodosWidgetContainer_user\n}\n\nfragment WidgetContainer_widget on Widget {\n  type\n  ...BookmarksWidgetContainer_widget\n  ...SearchWidgetContainer_widget\n  ...ClockWidgetContainer_widget\n  ...NotesWidgetContainer_widget\n  ...TodosWidgetContainer_widget\n}\n\nfragment WidgetIconContainer_widget on Widget {\n  id\n  type\n  visible\n}\n\nfragment BookmarksWidgetContainer_widget on Widget {\n  id\n  name\n  enabled\n  visible\n  data\n  type\n}\n\nfragment SearchWidgetContainer_widget on Widget {\n  id\n  name\n  enabled\n  data\n  config\n  settings\n  type\n}\n\nfragment ClockWidgetContainer_widget on Widget {\n  id\n  name\n  enabled\n  config\n  settings\n  type\n}\n\nfragment NotesWidgetContainer_widget on Widget {\n  id\n  name\n  enabled\n  visible\n  data\n  type\n}\n\nfragment TodosWidgetContainer_widget on Widget {\n  id\n  name\n  enabled\n  visible\n  data\n  type\n}\n\nfragment BookmarksWidgetContainer_user on User {\n  id\n}\n\nfragment SearchWidgetContainer_user on User {\n  id\n}\n\nfragment ClockWidgetContainer_user on User {\n  id\n}\n\nfragment NotesWidgetContainer_user on User {\n  id\n}\n\nfragment TodosWidgetContainer_user on User {\n  id\n}\n\nfragment UserMenuContainer_app on App {\n  ...MoneyRaisedContainer_app\n  ...HeartsDropdownContainer_app\n}\n\nfragment TreePlantingCampaignContainer_app on App {\n  campaign {\n    goal {\n      currentNumber\n    }\n  }\n}\n\nfragment MoneyRaisedContainer_app on App {\n  moneyRaised\n  dollarsPerDayRate\n}\n\nfragment HeartsDropdownContainer_app on App {\n  referralVcReward\n}\n",metadata:{}}}}();a.hash="f2419420d0844024e048c892ef1cce86",e.exports=a},1733:function(e,t,n){},1734:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(5),i=n(7),o=n(6),l=n(8),s=n(0),u=n.n(s),c=n(217),d=n(337),m=n(31),p=n(875),g=n.n(p),f=n(622),h=n.n(f),b=n(257),y=n(10),v=n(215),k=n(15),O=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=function(e){e===k.g?Object(v.b)():Object(v.c)()};return function(n){function s(){return Object(a.a)(this,s),Object(i.a)(this,Object(o.a)(s).apply(this,arguments))}return Object(l.a)(s,n),Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;t(e)}},{key:"componentWillReceiveProps",value:function(e){var n=this.props.location.pathname,a=e.location.pathname;n!==a&&t(a)}},{key:"render",value:function(){return u.a.createElement(e,this.props)}}]),s}(u.a.Component)},C=n(258),E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={timedOut:!1},n.timer=null,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ms;this.timer=setTimeout(function(){e.setState({timedOut:!0})},t)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){return(0,this.props.children)(this.state.timedOut)}}]),t}(u.a.Component),w=n(362),j=n(21),S=n.n(j),x=n(1),F=function(e){var t=e.app;return u.a.createElement(E,{ms:e.delay},function(e){return e?u.a.createElement("div",{style:{height:"100%",display:"flex",margin:0,padding:"0px 0px 80px 0px",justifyContent:"center",alignItems:"center",boxSizing:"border-box"}},u.a.createElement(w.a,{brand:t,style:{height:40,minHeight:40,minWidth:40}}),u.a.createElement(S.a,{variant:"h5",style:{margin:10}},"Loading...")):null})};F.defaultProps={app:x.M};var I=F,T=n(12),U=n(631),L=n(338),N=n(14),D=n(114),M=n(20),R=n(18),A=n.n(R),K=n(35),P=n(155),W=n(415),_=n.n(W),B=n(19),V=n.n(B),z=n(136),H=n.n(z),G=n(78),q=n.n(G),$=n(259),Y=n(761),J=n(1736),Q=n(1737),X=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(J.a,null,u.a.Children.map(this.props.children,function(e,t){return u.a.createElement(Q.a,{key:t,classNames:"fade-background",appear:!0,timeout:{enter:500,exit:2200}},e)}))}}]),t}(u.a.Component);X.defaultProps={};var Z=X,ee=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={currentlyDisplayedImgURL:null,imgPreloadError:!1,currentlyFetchingNewBackgroundImage:!1,backgroundOption:Object($.d)(),customImage:Object($.b)(),backgroundColor:Object($.a)(),backgroundImageURL:Object($.c)()},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handlePropChanges(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.handlePropChanges(e)}},{key:"handlePropChanges",value:function(e){this.arePropsReady(e)&&(this.arePropsDifferentFromState(e)&&this.updateBackgroundSettings(e),this.getNewDailyImageIfNeeded(e))}},{key:"arePropsReady",value:function(e){return Object(T.has)(e,["user","backgroundOption"])&&Object(T.has)(e,["user","customImage"])&&Object(T.has)(e,["user","backgroundColor"])&&Object(T.has)(e,["user","backgroundImage","imageURL"])&&Object(T.has)(e,["user","backgroundImage","timestamp"])}},{key:"arePropsDifferentFromState",value:function(e){return Object(T.get)(e,["user","backgroundOption"])!==this.state.backgroundOption||Object(T.get)(e,["user","customImage"])!==this.state.customImage||Object(T.get)(e,["user","backgroundColor"])!==this.state.backgroundColor||Object(T.get)(e,["user","backgroundImage","imageURL"])!==this.state.backgroundImageURL}},{key:"updateBackgroundSettings",value:function(e){var t=Object(T.get)(e,["user","backgroundOption"]),n=Object(T.get)(e,["user","customImage"]),a=Object(T.get)(e,["user","backgroundColor"]),r=Object(T.get)(e,["user","backgroundImage","imageURL"]);this.setState({backgroundOption:t,customImage:n,backgroundColor:a,backgroundImageURL:r}),Object($.e)(t,n,a,r)}},{key:"getNewDailyImageIfNeeded",value:function(e){var t=this;if(Object(T.get)(e,["user","backgroundOption"])===x.Q){var n=Object(T.get)(e,["user","backgroundImage","timestamp"]);if(!Object(P.isNil)(n)){var a=!this.state.currentlyFetchingNewBackgroundImage&&!V()().local().startOf("day").isSame(V()(n).local().startOf("day"));this.setState({currentlyFetchingNewBackgroundImage:!0}),a&&Object(Y.a)(e.relay.environment,e.user.id,function(){t.setState({currentlyFetchingNewBackgroundImage:!1})},function(){t.setState({currentlyFetchingNewBackgroundImage:!1})})}}}},{key:"onImgLoad",value:function(){this.setState({currentlyDisplayedImgURL:this.getImgURL()})}},{key:"onImgError",value:function(){this.setState({imgPreloadError:!0}),this.props.showError("We could not load your background image.")}},{key:"getImgURL",value:function(){switch(this.state.backgroundOption){case x.P:return this.state.customImage;case x.R:case x.Q:return this.state.backgroundImageURL;default:return null}}},{key:"isImgBackground",value:function(){return[x.P,x.Q,x.R].indexOf(this.state.backgroundOption)>-1}},{key:"render",value:function(){var e=this.isImgBackground(),t=this.getImgURL(),n={},a=!1,r=this.state.backgroundOption,i=this.state.currentlyDisplayedImgURL;switch(r){case x.P:this.state.customImage?n={backgroundImage:"url(".concat(i,")")}:a=!0;break;case x.O:this.state.backgroundColor?n={backgroundColor:this.state.backgroundColor}:a=!0;break;case x.R:case x.Q:this.state.backgroundImageURL?n={backgroundImage:"url(".concat(i,")")}:a=!0;break;default:n={backgroundImage:"none",backgroundColor:"transparent"}}(this.state.imgPreloadError||a)&&(n={backgroundColor:"#4a90e2"});var o,l=Object.assign({},{boxShadow:"rgba(0, 0, 0, 0.5) 0px 0px 120px inset",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundAttachment:"fixed",WebkitBackgroundSize:"cover",MozBackgroundSize:"cover",backgroundSize:"cover",position:"absolute",top:0,bottom:0,right:0,left:0,zIndex:"auto"},n),s="";return s=e?"img-".concat(this.state.currentlyDisplayedImgURL):"color-".concat(this.state.backgroundColor),o=!(!a&&!this.state.imgPreloadError)||!(e&&!this.state.currentlyDisplayedImgURL),u.a.createElement("div",null,o?u.a.createElement(Z,null,u.a.createElement("div",{key:s,style:l,"data-test-id":"dashboard-background-img"},u.a.createElement("div",{"data-test-id":"background-tint-overlay",style:{position:"absolute",top:0,bottom:0,right:0,left:0,zIndex:"auto",backgroundColor:"rgba(0, 0, 0, ".concat(e?.15:.03,")")}}))):null,e?u.a.createElement("img",{style:{display:"none"},src:t,alt:"",onLoad:this.onImgLoad.bind(this),onError:this.onImgError.bind(this)}):null)}}]),t}(u.a.Component);ee.defaultProps={showError:function(){}};var te=ee,ne=Object(N.createFragmentContainer)(te,{user:function(){return n(1343)}}),ae=n(630),re=n.n(ae),ie=n(208),oe=n.n(ie),le=n(36),se=Object(s.lazy)(function(){return n.e(0).then(n.t.bind(null,2009,7))}),ue=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).timer=0,n.state={moneyRaised:0,isPopoverOpen:!1},n.anchorEl=null,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setCounter()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"setCounter",value:function(){var e=this,t=this.props.app,n=t.moneyRaised,a=864/t.dollarsPerDayRate;if(this.setState({moneyRaised:n}),a>0){var r=Math.round(1e3*Math.abs(a));this.timer=setInterval(function(){e.setState({moneyRaised:+(e.state.moneyRaised+.01).toFixed(2)})},r)}}},{key:"celebratingMilestone",value:function(){var e=this.state.moneyRaised;return e>=5e5&&e<503e3}},{key:"render",value:function(){var e=this,t=this.props,n=t.app,a=t.classes,r=t.dropdown,i=t.launchFireworks,o=t.theme,l=this.state,c=l.moneyRaised,d=l.isPopoverOpen;if(!n)return null;var m=this.celebratingMilestone(),p="$".concat(Object(le.b)(Object(le.c)(c)));return u.a.createElement("div",{style:{position:"relative"}},u.a.createElement(oe.a,{className:a.buttonBase},u.a.createElement("div",{"data-test-id":"money-raised-button",ref:function(t){return e.anchorEl=t},onClick:function(){e.celebratingMilestone()&&i?i(!0):e.setState({isPopoverOpen:!e.state.open})},style:{userSelect:"none",cursor:"default"}},u.a.createElement(S.a,{variant:"h2",className:a.moneyRaisedText,style:Object(M.a)({},d&&{color:Object(T.get)(o,"overrides.MuiTypography.h2.&:hover.color","inherit")})},p),m?u.a.createElement(s.Suspense,{fallback:null},u.a.createElement(se,{color:"#FFEBA2",count:18,fadeOutSpeed:40,overflowPx:14,flicker:!1})):null)),r({open:d,onClose:function(){e.setState({isPopoverOpen:!1})},anchorElement:this.anchorEl}))}}]),t}(u.a.Component);ue.defaultProps={};var ce=Object(m.withStyles)({buttonBase:{borderRadius:2},moneyRaisedText:{fontWeight:"normal",transition:"color 300ms ease-in",cursor:"pointer"},dropdownText:{}},{withTheme:!0})(ue),de=Object(N.createFragmentContainer)(ce,{app:function(){return n(1344)}}),me=n(216),pe=n.n(me),ge=n(879),fe=n.n(ge),he=n(70),be=n(589),ye=n.n(be),ve=function(e){var t=e.anchorEl,n=e.children,a=e.onClose,r=e.open,i=e.theme,o=Object(he.a)(e,["anchorEl","children","onClose","open","theme"]);return u.a.createElement(ye.a,Object.assign({open:r,anchorEl:t,onClose:a,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"}},o),u.a.createElement("div",{style:{width:"100%",height:3,backgroundColor:i.palette.primary.main}}),n)};ve.defaultProps={open:!1,anchorEl:null,onClose:function(){}};var ke=Object(m.withTheme)()(ve),Oe=function(e){var t=e.anchorElement,n=e.message;return u.a.createElement(ke,{open:e.open,anchorEl:t,style:{pointerEvents:"none",marginTop:6}},u.a.createElement("div",{style:{padding:10,width:210,textAlign:"center"}},u.a.createElement(S.a,{variant:"body2"},n)))};Oe.displayName="MaxHeartsDropdownMessageComponent",Oe.defaultProps={classes:{},open:!1};var Ce=Object(m.withStyles)({})(Oe),Ee=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isHovering:!1,isPopoverOpen:!1},n.anchorElement=null,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.dropdown,r=t.showMaxHeartsFromSearchesMessage,i=t.showMaxHeartsFromTabsMessage,o=t.theme,l=t.user,s=this.state,c=s.isHovering,d=s.isPopoverOpen,m=this.anchorElement,p=!!l.tabsToday&&l.tabsToday>=x.d,g=!!l.searchRateLimit&&l.searchRateLimit.limitReached,f=i&&p||r&&g;return u.a.createElement("div",null,u.a.createElement(oe.a,{className:n.buttonBase},u.a.createElement("div",{"data-tour-id":"hearts",ref:function(t){return e.anchorElement=t},onMouseEnter:function(t){e.setState({isHovering:!0})},onMouseLeave:function(t){e.setState({isHovering:!1})},onClick:function(t){e.setState({isPopoverOpen:!0})},style:{marginRight:0,display:"flex",alignItems:"center"}},u.a.createElement(S.a,{variant:"h2",style:Object(M.a)({},(c||d)&&{color:Object(T.get)(o,"overrides.MuiTypography.h2.&:hover.color","inherit")}),className:n.heartCount},Object(le.b)(l.vcCurrent)),u.a.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}},u.a.createElement(pe.a,{style:{color:c||d?Object(T.get)(o,"overrides.MuiTypography.h2.&:hover.color","inherit"):Object(T.get)(o,"typography.h2.color","inherit")},className:n.heartIcon}),f?u.a.createElement(fe.a,{style:{color:c||d?Object(T.get)(o,"overrides.MuiTypography.h2.&:hover.color","inherit"):Object(T.get)(o,"typography.h2.color","inherit")},className:n.checkmarkIcon}):null))),a({open:d,onClose:function(){e.setState({isPopoverOpen:!1})},anchorElement:m}),u.a.createElement(Ce,{open:f&&c&&!d,anchorElement:m,message:p&&g?"You've earned the maximum Hearts for now. You'll be able to earn more Hearts in a while.":p?"You've earned the maximum Hearts from opening tabs for now! You'll be able to earn more Hearts in a while.":g?"You've earned the maximum Hearts from searching for now! You'll be able to earn more Hearts in a while.":"You've earned the maximum Hearts for now."}))}}]),t}(u.a.Component);Ee.displayName="HeartsComponent",Ee.defaultProps={classes:{},showMaxHeartsFromSearchesMessage:!1,showMaxHeartsFromTabsMessage:!1};var we=Object(m.withStyles)({buttonBase:{borderRadius:2},heartCount:{transition:"color 300ms ease-in",fontWeight:"normal",userSelect:"none",cursor:"pointer"},heartIcon:{transition:"color 300ms ease-in",cursor:"pointer",marginLeft:2,paddingBottom:0},checkmarkIcon:{transition:"color 300ms ease-in",cursor:"pointer",height:16,width:16,position:"absolute",paddingLeft:4,paddingBottom:2}},{withTheme:!0})(Ee),je=Object(N.createFragmentContainer)(we,{user:function(){return n(1371)}}),Se=n(213),xe=n.n(Se),Fe=n(87),Ie=function(e){var t=e.anchorElement,n=e.app,a=e.onClose,r=e.open,i=e.user,o=Object(he.a)(e,["anchorElement","app","onClose","open","user"]),l={paddingTop:12,paddingBottom:20},s={marginTop:8,marginBottom:0},c=1===i.numUsersRecruited?"friend":"friends";return u.a.createElement(ke,Object.assign({open:r,anchorEl:t,onClose:a},o),u.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,width:210,textAlign:"center"}},u.a.createElement("div",{style:l},u.a.createElement(S.a,{variant:"h5"},"Level ",i.level),u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},u.a.createElement(S.a,{variant:"body2"},i.heartsUntilNextLevel),u.a.createElement(pe.a,{style:{height:16}}),u.a.createElement(S.a,{variant:"body2"}," until next level"))),u.a.createElement(xe.a,null),u.a.createElement("div",{style:l},u.a.createElement("span",null,u.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},u.a.createElement(S.a,{variant:"h5"},Object(le.b)(i.vcDonatedAllTime)),u.a.createElement(pe.a,{style:{marginLeft:2,height:24,width:24,paddingBottom:1}})),u.a.createElement(S.a,{variant:"body2"},"donated")),u.a.createElement(Fe.a,{to:k.h},u.a.createElement(q.a,{variant:"contained",color:"primary",style:s},"Donate Hearts"))),u.a.createElement(xe.a,null),u.a.createElement("div",{style:l},u.a.createElement("div",null,u.a.createElement(S.a,{variant:"h5"},i.numUsersRecruited),u.a.createElement(S.a,{variant:"body2"},c," recruited")),u.a.createElement(Fe.a,{to:k.o},u.a.createElement(q.a,{variant:"contained",color:"primary",style:s},"Invite A Friend"))),u.a.createElement(xe.a,null),u.a.createElement("div",{style:{paddingTop:12,paddingLeft:22,paddingRight:22,textAlign:"left"}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(S.a,{variant:"body2",style:{flex:6}},"Open a tab"),u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},u.a.createElement(S.a,{variant:"body2",style:{textAlign:"right"}},"1"),u.a.createElement(pe.a,{style:{height:16}}))),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(S.a,{variant:"body2",style:{flex:6}},"Recruit a friend"),u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},u.a.createElement(S.a,{variant:"body2",style:{textAlign:"right"}},n.referralVcReward),u.a.createElement(pe.a,{style:{height:16}}))))))};Ie.displayName="HeartsDropdownComponent",Ie.defaultProps={open:!1};var Te=Object(m.withStyles)({})(Ie),Ue=Object(N.createFragmentContainer)(Te,{app:function(){return n(1378)},user:function(){return n(1379)}}),Le=n(343),Ne=n.n(Le),De=n(882),Me=n.n(De),Re=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isHovering:!1,isPopoverOpen:!1},n.anchorElement=null,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.dropdown,r=t.theme,i=this.state,o=i.isHovering,l=i.isPopoverOpen,s=this.anchorElement;return u.a.createElement("div",null,u.a.createElement(Ne.a,{buttonRef:function(t){return e.anchorElement=t},"data-test-id":"settings-button","data-tour-id":"settings-button",className:n.settingsIcon,onClick:function(){e.setState({isPopoverOpen:!e.state.open})},onMouseEnter:function(t){e.setState({isHovering:!0})},onMouseLeave:function(t){e.setState({isHovering:!1})}},u.a.createElement(Me.a,{style:{color:o||l?Object(T.get)(r,"overrides.MuiTypography.h2.&:hover.color","inherit"):Object(T.get)(r,"typography.h2.color","inherit"),transition:"color 300ms ease-in"}})),a({open:l,onClose:function(){e.setState({isPopoverOpen:!1})},anchorElement:s}))}}]),t}(u.a.Component);Re.defaultProps={classes:{}};var Ae=Object(m.withStyles)({settingsIcon:{padding:0,width:40,height:40,fontSize:22,"&:hover":{backgroundColor:"transparent"}}},{withTheme:!0})(Re),Ke=n(624),Pe=n.n(Ke),We=n(225),_e=n.n(We),Be=n(226),Ve=n.n(Be),ze=n(222),He=n.n(ze),Ge=n(770),qe=n.n(Ge),$e=n(883),Ye=n.n($e),Je=n(885),Qe=n.n(Je),Xe=n(884),Ze=n.n(Xe),et=n(771),tt=n.n(et),nt=n(886),at=n.n(nt),rt=function(e){var t=e.anchorElement,n=e.classes,a=e.isUserAnonymous,r=e.onClose,i=e.onLogoutClick,o=e.open,l=Object(he.a)(e,["anchorElement","classes","isUserAnonymous","onClose","onLogoutClick","open"]);return u.a.createElement(ke,Object.assign({open:o,anchorEl:t,onClose:r},l),u.a.createElement(Pe.a,{style:{width:200}},u.a.createElement(_e.a,{onClick:function(){Object(k.m)(k.G)}},u.a.createElement(Ve.a,null,u.a.createElement(Ye.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Settings")),u.a.createElement(_e.a,{onClick:function(){Object(k.m)(k.h)}},u.a.createElement(Ve.a,null,u.a.createElement(qe.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Donate Hearts")),u.a.createElement(_e.a,{onClick:function(){Object(k.m)(k.o)}},u.a.createElement(Ve.a,null,u.a.createElement(Ze.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Invite Friends")),u.a.createElement(_e.a,{onClick:function(){Object(k.m)(k.H)}},u.a.createElement(Ve.a,null,u.a.createElement(tt.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Your Stats")),u.a.createElement(xe.a,null),u.a.createElement(Fe.a,{to:k.k,target:"_blank"},u.a.createElement(_e.a,null,u.a.createElement(Ve.a,null,u.a.createElement(Qe.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Help"))),a?null:u.a.createElement(xe.a,null),a?null:u.a.createElement(_e.a,{onClick:i,"data-test-id":"app-menu-sign-out"},u.a.createElement(Ve.a,null,u.a.createElement(at.a,{className:n.icon})),u.a.createElement(He.a,{classes:{primary:n.listItemTextPrimary},primaryTypographyProps:{variant:"body2"}},"Sign Out"))))};rt.displayName="SettingsDropdownComponent",rt.defaultProps={open:!1};var it=Object(m.withStyles)({listItemTextPrimary:{},icon:{fontSize:22}})(rt),ot=n(69),lt=n(16),st=n(887),ut=n.n(st),ct=Object(s.lazy)(function(){return n.e(0).then(n.t.bind(null,2009,7))}),dt=Object(m.createMuiTheme)(b.a),mt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"logout",value:function(){var e=Object(K.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,Object(ot.d)();case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),lt.a.error(e.t0);case 10:t&&Object(k.m)(k.p);case 11:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.app,a=t.browser,r=t.classes,i=t.user,o=t.isUserAnonymous,l=t.onClickCampaignReopen,c=t.onClickSparklySearchIntroButton,d=t.showSparklySearchIntroButton,p=t.showCampaignReopenButton;return u.a.createElement(m.MuiThemeProvider,{theme:Object(M.a)({},dt,{palette:Object(M.a)({},dt.palette,{background:Object(M.a)({},dt.palette.background,{paper:"rgba(0, 0, 0, 0.36)"}),divider:"rgba(255, 255, 255, 0.20)"}),typography:Object(M.a)({},dt.typography,{h2:Object(M.a)({},dt.typography.h2,{color:"rgba(255, 255, 255, 0.8)",fontSize:24}),h3:Object(M.a)({},dt.typography.h3,{color:"#fff"}),h4:Object(M.a)({},dt.typography.h4,{color:"#fff"}),h5:Object(M.a)({},dt.typography.h5,{color:"#fff"}),body2:Object(M.a)({},dt.typography.body2,{color:"#fff"})}),overrides:Object(M.a)({},dt.overrides,{MuiListItemIcon:Object(M.a)({},Object(T.get)(dt,"overrides.MuiListItemIcon",{}),{root:Object(M.a)({},Object(T.get)(dt,"overrides.MuiListItemIcon.root",{}),{color:"#fff"})}),MuiButtonBase:Object(M.a)({},Object(T.get)(dt,"overrides.MuiButtonBase",{}),{root:Object(M.a)({},Object(T.get)(dt,"overrides.MuiButtonBase.root",{}),{color:"#fff"})}),MuiIconButton:Object(M.a)({},Object(T.get)(dt,"overrides.MuiIconButton",{}),{root:Object(M.a)({},Object(T.get)(dt,"overrides.MuiIconButton.root",{}),{color:"#fff"})}),MuiSvgIcon:Object(M.a)({},Object(T.get)(dt,"overrides.MuiSvgIcon",{}),{root:Object(M.a)({},Object(T.get)(dt,"overrides.MuiSvgIcon.root",{}),{color:"#fff",fontSize:24})}),MuiTypography:Object(M.a)({},Object(T.get)(dt,"overrides.MuiTypography",{}),{h2:Object(M.a)({},Object(T.get)(dt,"overrides.MuiTypography.h2",{}),{"&:hover":{color:"#fff"}})})})})},u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},d?u.a.createElement("div",{"data-test-id":"search-intro-sparkly-button",style:{position:"relative"}},u.a.createElement(Fe.a,{to:a===x.a?k.E:a===x.c?k.F:k.E,target:"blank",onClick:c},u.a.createElement(q.a,{variant:"text",color:"default",style:{marginRight:16,color:"rgba(255, 255, 255, 0.8)"}},"Double your impact")),u.a.createElement(C.a,{ignoreErrors:!0,brand:x.M},u.a.createElement(s.Suspense,{fallback:null},u.a.createElement(ct,{color:"#FFEBA2",count:12,fadeOutSpeed:34,overflowPx:8,flicker:!1})))):null,p?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{"data-test-id":"campaign-reopen",style:{marginRight:0,display:"flex",flexDirection:"row"},onClick:l},u.a.createElement(ut.a,{className:r.treeIcon})),u.a.createElement(re.a,{style:{marginLeft:10,color:"rgba(255, 255, 255, 0.8)"},classes:{root:r.circleIcon}})):null,u.a.createElement(de,{app:n,dropdown:function(e){var t=e.open,n=e.onClose,a=e.anchorElement;return u.a.createElement(ke,{open:t,anchorEl:a,onClose:n,style:{marginTop:6}},u.a.createElement("div",{style:{padding:12,width:160}},u.a.createElement(S.a,{variant:"body2",className:r.dropdownText,gutterBottom:!0},"This is how much money our community has raised for charity."),u.a.createElement(S.a,{variant:"body2",className:r.dropdownText,gutterBottom:!0},"Recruit your friends to raise more!"),u.a.createElement("div",{style:{marginTop:14,display:"flex",justifyContent:"center"}},u.a.createElement(Fe.a,{to:k.o},u.a.createElement(q.a,{variant:"contained",color:"primary"},"Invite Friends")))))}}),u.a.createElement(re.a,{style:{color:"rgba(255, 255, 255, 0.8)"},classes:{root:r.circleIcon}}),u.a.createElement(je,{app:n,user:i,showMaxHeartsFromTabsMessage:!0,dropdown:function(e){var t=e.open,a=e.onClose,r=e.anchorElement;return u.a.createElement(Ue,{app:n,user:i,open:t,onClose:a,anchorElement:r,style:{marginTop:6}})}}),u.a.createElement(Ae,{dropdown:function(t){var n=t.open,a=t.onClose,r=t.anchorElement;return u.a.createElement(it,{open:n,anchorElement:r,onClose:a,onLogoutClick:e.logout.bind(e),isUserAnonymous:o})}})))}}]),t}(u.a.Component);mt.defaultProps={isUserAnonymous:!1,onClickCampaignReopen:function(){},onClickSparklySearchIntroButton:function(){},showSparklySearchIntroButton:!1};var pt=Object(m.withStyles)(function(e){return{circleIcon:{alignSelf:"center",width:5,height:5,marginTop:2,marginLeft:12,marginRight:12},treeText:{transition:"color 300ms ease-in",fontWeight:"normal",userSelect:"none",cursor:"pointer"},treeIcon:{transition:"color 300ms ease-in",cursor:"pointer",paddingBottom:0,color:"rgba(255, 255, 255, 0.8)"}}})(mt),gt=Object(N.createFragmentContainer)(pt,{app:function(){return n(1388)},user:function(){return n(1389)}}),ft=n(637),ht=n.n(ft),bt=n(775),yt=n.n(bt),vt=n(778),kt=n.n(vt),Ot=n(779),Ct=n.n(Ot),Et=n(411),wt=n.n(Et),jt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onWidgetIconClicked",value:function(){this.props.onWidgetIconClicked(this.props.widget)}},{key:"render",value:function(){var e=this.props.widget,t={};if(this.props.active){var n="rgba(0, 0, 0, 0.3) 0px 19px 60px, rgba(0, 0, 0, 0.16) 0px 8px 10px";t={background:y.g.palette.primary1Color,boxShadow:n,transform:"scale(1.14)",WebkitBoxShadow:n}}var a,r=Object.assign({},{background:"transparent",padding:0,borderRadius:"100%",margin:5,width:44,height:44},t),i=this.props.active?y.d:y.e,o=y.d;switch(e.type){case x.S:a=u.a.createElement(yt.a,{color:i,hoverColor:o});break;case x.U:a=u.a.createElement(Ct.a,{color:i,hoverColor:o});break;case x.V:a=u.a.createElement(wt.a,{color:i,hoverColor:o});break;case x.W:a=u.a.createElement(kt.a,{color:i,hoverColor:o});break;default:a=null}return a?u.a.createElement("span",null,u.a.createElement(ht.a,{style:r,key:this.props.widget.type+"animation-key",onClick:this.onWidgetIconClicked.bind(this)},a)):null}}]),t}(u.a.Component);jt.defaultProps={active:!1};var St=jt,xt=Object(N.createFragmentContainer)(St,{widget:function(){return n(1410)}}),Ft=n(116),It=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:Object.assign({},{position:"absolute",zIndex:1,top:40,left:5,backgroundColor:"transparent",width:300,overflowX:"hidden",overflowY:"hidden"},this.props.containerStyle)},this.props.children)}}]),t}(u.a.Component);It.defaultProps={containerStyle:{}};var Tt=It,Ut=n(888),Lt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(Ut.Scrollbars,Object.assign({style:Object.assign({},{display:"block",padding:0,margin:0,height:200},this.props.style)},this.props),this.props.children)}}]),t}(u.a.Component);Lt.defaultProps={style:{}};var Nt=Lt,Dt=function(e){var t=e.style,n=Object(he.a)(e,["style"]);return u.a.createElement("div",Object.assign({style:Object(M.a)({},t,{paddingRight:8})},n))},Mt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(Nt,{style:{height:"60vh",paddingRight:6,overflowX:"hidden"},renderView:Dt},this.props.children)}}]),t}(u.a.Component);Mt.defaultProps={style:{}};var Rt=Mt,At=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return null}}]),t}(u.a.Component),Kt=n(260),Pt=n.n(Kt),Wt=n(889),_t=n.n(Wt),Bt=n(890),Vt=n.n(Bt),zt=n(3),Ht=n.n(zt),Gt=function(e){var t=e.condition,n=e.wrapper,a=e.children;return t?n(a):a};Gt.propTypes={condition:Ht.a.bool.isRequired,wrapper:Ht.a.func.isRequired,children:Ht.a.object.isRequired};var qt=Gt,$t=Object(s.lazy)(function(){return Promise.all([n.e(1),n.e(13),n.e(18)]).then(n.bind(null,2052))}),Yt=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isEditing:!1,startingIndex:n.props.index,temporaryColor:n.props.bookmark.color},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onDeleteBookmark",value:function(){this.props.deleteBookmark(this.props.index),this.setState({isEditing:!1})}},{key:"addProtocolToURLIfNeeded",value:function(e){return/(ftp|http|https|file):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)?e:"http://"+e}},{key:"onClick",value:function(e){this.props.editMode&&this.setState({isEditing:!0,startingIndex:this.props.index})}},{key:"onEditCancel",value:function(){this.props.index>this.state.startingIndex?this.props.onReorderMoveUp(this.props.index,this.props.index-this.state.startingIndex):this.props.index<this.state.startingIndex&&this.props.onReorderMoveDown(this.props.index,this.state.startingIndex-this.props.index),this.setTemporaryColor(null),this.setState({isEditing:!1})}},{key:"onEditSave",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.setTemporaryColor(null),this.props.editBookmark(this.props.index,e,t,n),this.setState({isEditing:!1})}},{key:"onReorderMoveUp",value:function(){this.props.onReorderMoveUp(this.props.index)}},{key:"onReorderMoveDown",value:function(){this.props.onReorderMoveDown(this.props.index)}},{key:"setTemporaryColor",value:function(e){this.setState({temporaryColor:e})}},{key:"render",value:function(){var e=this,t=this.props.bookmark,n=y.f,a="#000",r=this.state.temporaryColor||t.color;if(r)try{n=Vt()(r,.36),a=r}catch(i){lt.a.error(i)}return u.a.createElement("span",null,u.a.createElement(qt,{condition:!this.props.editMode,wrapper:function(t){return u.a.createElement(Fe.a,{to:e.addProtocolToURLIfNeeded(e.props.bookmark.link),target:"_top"},t)}},u.a.createElement(Pt.a,{zDepth:0,style:{position:"relative",display:"flex",justifyContent:"center",cursor:"pointer",alignItems:"center",margin:5,minWidth:84,maxWidth:150,height:50,fontSize:14,padding:10,backgroundColor:n,color:"#FFF",userSelect:"none"},onClick:this.onClick.bind(this)},u.a.createElement(_t.a,{color:y.j,hoverColor:y.i,style:{position:"absolute",zIndex:5,top:2,right:2,opacity:this.props.editMode?1:0,transition:"opacity 0.1s ease-in",pointerEvents:this.props.editMode?"all":"none"}}),u.a.createElement("span",{style:{color:"#FFF",pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},t.name))),this.state.isEditing?u.a.createElement(s.Suspense,{fallback:null},u.a.createElement($t,{ref:function(t){e.editBookmarkModal=t},open:this.state.isEditing,onEditCancel:this.onEditCancel.bind(this),onEditSave:this.onEditSave.bind(this),onDeleteBookmark:this.onDeleteBookmark.bind(this),currentBookmarkName:t.name,currentBookmarkLink:t.link,currentBookmarkColor:a,onReorderMoveUp:this.onReorderMoveUp.bind(this),onReorderMoveDown:this.onReorderMoveDown.bind(this),setTemporaryColor:this.setTemporaryColor.bind(this)})):null)}}]),t}(u.a.Component),Jt=n(891),Qt=n.n(Jt),Xt=n(214),Zt=n.n(Xt),en=n(412),tn=n.n(en),nn=n(892),an=n.n(nn),rn=n(893),on=n.n(rn),ln=n(894),sn=n.n(ln),un=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(J.a,null,u.a.Children.map(this.props.children,function(e,t){return e?u.a.createElement(Q.a,{key:t,classNames:"edit-widget-chip",appear:!1,timeout:{enter:300,exit:100}},e):null}))}}]),t}(u.a.Component),cn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={dimensions:{}},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.open?u.a.createElement("span",{key:"widget-edit-chip-add-form",style:{position:"absolute",bottom:0,left:0,width:"100%",paddingTop:20,boxSizing:"border-box"}},this.props.widgetAddItemForm):u.a.createElement("span",{key:"widget-edit-chip-content",style:{position:"absolute",minHeight:32,top:0,left:0,paddingLeft:12,paddingRight:8}},u.a.createElement("span",null,this.props.widgetName)),n=u.a.createElement(Qt.a,{bounds:!0,onResize:function(t){t.bounds&&e.setState({dimensions:t.bounds})}},function(e){var n=e.measureRef;return u.a.createElement(un,null,u.a.cloneElement(t,{ref:n}))}),a={display:"flex",justifyContent:"flex-end",position:"absolute",zIndex:5,top:4,right:8},r={cursor:"pointer",color:"rgba(255,255,255,.3)",display:"inline-block"},i=null;this.props.showEditOption&&(i=this.props.editMode?u.a.createElement(on.a,{onClick:function(){e.props.onEditModeToggle(!1)},hoverColor:y.i,style:Object.assign({},r,{color:y.i,float:"right",marginLeft:4})}):u.a.createElement(an.a,{onClick:function(){e.props.onEditModeToggle(!0)},hoverColor:y.i,style:Object.assign({},r,{float:"right",marginLeft:4})}));var o=this.props.open?u.a.createElement("div",{key:"icons-expanded",style:a},u.a.createElement(Zt.a,{color:y.j,hoverColor:y.i,style:r,onClick:function(){e.props.onCancelAddItemClick()}}),u.a.createElement(tn.a,{color:y.j,hoverColor:y.i,style:r,onClick:function(){e.props.onItemCreatedClick()}})):u.a.createElement("div",{key:"icons-closed",style:a},i,u.a.createElement(sn.a,{key:"widget-add-icon",color:y.j,hoverColor:y.i,style:Object.assign({},r,{float:"right",marginLeft:4}),onClick:function(){e.props.onEditModeToggle(!1),e.props.onAddItemClick()}})),l=this.props.showEditOption?62:36,s=this.props.open?290:this.state.dimensions.width?this.state.dimensions.width+l:"auto",c=this.state.dimensions.height?this.state.dimensions.height:"auto";return u.a.createElement("span",null,u.a.createElement(Pt.a,{zDepth:0,style:{width:s,height:c,cursor:"default",position:"relative",overflow:"hidden",justifyContent:"center",alignItems:"space-between",fontSize:14,lineHeight:"".concat(32,"px"),transition:"width ".concat(140,"ms ease-in-out, height ").concat(140,"ms ease-in-out"),margin:5,background:y.g.palette.primary1Color,color:"#FFF",userSelect:"none"}},u.a.createElement("div",{style:{display:"inline-flex",justifyContent:"flex-end",position:"absolute",zIndex:3,width:"100%",left:0,top:0,boxSizing:"border-box"}},u.a.createElement(un,null,o)),n))}}]),t}(u.a.Component);cn.defaultProps={open:!1,showEditOption:!1,onEditModeToggle:function(){},editMode:!1,onAddItemClick:function(){},onCancelAddItemClick:function(){},onItemCreatedClick:function(){}};var dn=cn,mn=n(210),pn=n.n(mn),gn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={open:!1,nameRequiredError:!1,urlRequiredError:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"_handleKeyPress",value:function(e){"Enter"===e.key&&(e.shiftKey||(e.stopPropagation(),e.preventDefault(),this.create()))}},{key:"openForm",value:function(){var e=this;this.setState({open:!0},function(){e.focusInput()})}},{key:"closeForm",value:function(){this.setState({open:!1})}},{key:"focusInput",value:function(){this.bookmarkNameTextField.focus()}},{key:"onNameValChange",value:function(){var e=this.bookmarkNameTextField.input.value;this.setState({nameRequiredError:!e})}},{key:"onURLValChange",value:function(){var e=this.bLink.input.value;this.setState({urlRequiredError:!e})}},{key:"addProtocolToURLIfNeeded",value:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)?e:"http://"+e}},{key:"create",value:function(){var e=this.bookmarkNameTextField.input.value,t=this.bLink.input.value;if(e||this.setState({nameRequiredError:!0}),t||this.setState({urlRequiredError:!0}),e&&t){var n=this.addProtocolToURLIfNeeded(this.bLink.input.value);this.props.addBookmark(e,n),this.bookmarkNameTextField.input.value="",this.bLink.input.value="",this.closeForm()}}},{key:"render",value:function(){var e=this,t={underlineStyle:{borderColor:y.g.textField.underlineColor},underlineFocusStyle:{borderColor:y.i},hintStyle:{color:y.g.textField.underlineColor,fontSize:14},inputStyle:{color:"#FFF",fontSize:14}};return u.a.createElement(dn,{open:this.state.open,widgetName:"Bookmarks",onAddItemClick:this.openForm.bind(this),onCancelAddItemClick:this.closeForm.bind(this),onItemCreatedClick:this.create.bind(this),showEditOption:this.props.showEditButton,onEditModeToggle:this.props.onEditModeToggle,editMode:this.props.editMode,widgetAddItemForm:u.a.createElement("span",{key:"widget-add-form-elem",style:{display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:20}},u.a.createElement(pn.a,{ref:function(t){e.bookmarkNameTextField=t},onKeyPress:this._handleKeyPress.bind(this),hintText:"Ex: Google",style:t.style,inputStyle:t.inputStyle,hintStyle:t.hintStyle,underlineStyle:t.underlineStyle,underlineFocusStyle:t.underlineFocusStyle,onChange:this.onNameValChange.bind(this),errorText:this.state.nameRequiredError?"Enter a name":null}),u.a.createElement(pn.a,{ref:function(t){e.bLink=t},onKeyPress:this._handleKeyPress.bind(this),hintText:"Ex: google.com",style:t.style,inputStyle:t.inputStyle,hintStyle:t.hintStyle,underlineStyle:t.underlineStyle,underlineFocusStyle:t.underlineFocusStyle,onChange:this.onURLValChange.bind(this),errorText:this.state.urlRequiredError?"Enter a URL":null}))})}}]),t}(u.a.Component);gn.defaultProps={showEditButton:!0};var fn=gn,hn=function(){return n(1444)};var bn={commit:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},o=t.id,l=n.id;return Object(N.commitMutation)(e,{mutation:hn,variables:{input:{userId:o,widgetId:l,data:a}},onCompleted:r,onError:i})}},yn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={bookmarks:[],editMode:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"randomString",value:function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",a=e;a>0;--a)n+=t[Math.floor(Math.random()*t.length)];return n}},{key:"componentDidMount",value:function(){var e=this,t=this.props.widget,n=JSON.parse(t.data).bookmarks||[];n.forEach(function(t){t.id||(t.id=e.randomString(6))}),this.setState({bookmarks:n})}},{key:"getFavicon",value:function(e){return"https://www.google.com/s2/favicons?domain_url="+encodeURI(e)}},{key:"onSaveSuccess",value:function(){}},{key:"onSaveError",value:function(){this.props.showError("Oops, we are having trouble saving your widgets right now :(")}},{key:"updateWidget",value:function(e){var t={bookmarks:e},n=JSON.stringify(t);bn.commit(this.props.relay.environment,this.props.user,this.props.widget,n,this.onSaveSuccess.bind(this),this.onSaveError.bind(this))}},{key:"addBookmark",value:function(e,t){var n=this,a={id:this.randomString(6),name:e,link:t};this.setState({bookmarks:[a].concat(Object(Ft.a)(this.state.bookmarks))},function(){n.updateWidget(n.state.bookmarks)})}},{key:"editBookmark",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=Object(Ft.a)(this.state.bookmarks);i[e].name=t,i[e].link=n,r&&(i[e].color=r),this.setState({bookmarks:i},function(){a.updateWidget(a.state.bookmarks)})}},{key:"removeBookmark",value:function(e){var t=this;this.setState({bookmarks:this.state.bookmarks.filter(function(t,n){return n!==e})},function(){t.updateWidget(t.state.bookmarks)})}},{key:"onEditModeToggle",value:function(e){this.setState({editMode:e})}},{key:"_moveItem",value:function(e,t,n){e.splice(n,0,e.splice(t,1)[0])}},{key:"onReorderMoveUp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(Ft.a)(this.state.bookmarks),a=0===e?0:e-t;this._moveItem(n,e,a),this.setState({bookmarks:n})}},{key:"onReorderMoveDown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(Ft.a)(this.state.bookmarks),a=e===n.length-1?e:e+t;this._moveItem(n,e,a),this.setState({bookmarks:n})}},{key:"render",value:function(){var e,t=this,n=this.state.bookmarks||[];return n.length||(e=u.a.createElement(At,{widgetName:"Bookmarks"})),u.a.createElement(Tt,{containerStyle:{overflowX:"visible",overflowY:"visible",overflow:"visible"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:27}},u.a.createElement(fn,{addBookmark:this.addBookmark.bind(this),showEditButton:n.length>0,editMode:this.state.editMode,onEditModeToggle:this.onEditModeToggle.bind(this)}),u.a.createElement(Rt,null,u.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start"}},e,n.map(function(e,n){return u.a.createElement(Yt,{key:e.id,index:n,bookmark:e,editBookmark:t.editBookmark.bind(t),deleteBookmark:t.removeBookmark.bind(t),editMode:t.state.editMode,onReorderMoveUp:t.onReorderMoveUp.bind(t),onReorderMoveDown:t.onReorderMoveDown.bind(t)})})))))}}]),t}(u.a.Component),vn=Object(N.createFragmentContainer)(yn,{widget:function(){return n(1445)},user:function(){return n(1446)}});function kn(e,t){var n,a,r={};for(var i in t)a=t[i].field,n=e&&a in e?e[a]:t[i].defaultValue,r[a]=n;return r}var On=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={hover:!1,focused:!1,config:{}},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.widget,t=kn(JSON.parse(e.config),JSON.parse(e.settings));this.setState({config:t})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.executeSearch()}},{key:"executeSearch",value:function(){var e=Object(K.a)(A.a.mark(function e(){var t,n,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)();case 2:t=this.state.config.engine||"Google",n=this.getSearchApi(t),a=this.searchInput.input.value,window.open(n+a,"_top");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onSearchHover",value:function(e){this.setState({hover:e})}},{key:"onSearchClick",value:function(){this.searchInput.focus()}},{key:"onInputFocusChanged",value:function(e){this.setState({focused:e})}},{key:"getSearchApi",value:function(e){switch(e){case"Google":return"https://www.google.com/search?q=";case"Bing":return"https://www.bing.com/search?q=";case"DuckDuckGo":return"https://duckduckgo.com/?q=";case"Ecosia":return"https://www.ecosia.org/search?q=";default:return"https://www.google.com/search?q="}}},{key:"render",value:function(){var e=this,t={borderColor:y.g.palette.borderColor,opacity:this.state.hover||this.state.focused?100:0,transition:"opacity 150ms ease-in"},n={borderColor:y.d},a={textAlign:"left",color:y.d,fontSize:18,fontWeight:"normal",fontFamily:y.g.fontFamily};return u.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",position:"relative",zIndex:1,marginLeft:14,height:56},onClick:this.onSearchClick.bind(this),onMouseEnter:this.onSearchHover.bind(this,!0),onMouseLeave:this.onSearchHover.bind(this,!1)},u.a.createElement(wt.a,{color:this.state.hover||this.state.focused?y.d:y.e,hoverColor:y.d,style:{marginRight:14}}),u.a.createElement(pn.a,{id:"tab-search-id",onFocus:this.onInputFocusChanged.bind(this,!0),onBlur:this.onInputFocusChanged.bind(this,!1),ref:function(t){e.searchInput=t},onKeyPress:this.handleKeyPress.bind(this),style:{width:220},inputStyle:a,underlineStyle:t,underlineFocusStyle:n}))}}]),t}(u.a.Component),Cn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(On,{widget:this.props.widget,user:this.props.user})}}]),t}(u.a.Component),En=Object(N.createFragmentContainer)(Cn,{widget:function(){return n(1447)},user:function(){return n(1448)}}),wn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).updateClockInterval=0,n.state={date:"",time:"",config:{}},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateClockInterval=setInterval(function(){e.setDateTime(e.state.config)},1e3);var t=this.props.widget,n=kn(JSON.parse(t.config),JSON.parse(t.settings));this.setState({config:n}),this.setDateTime(n)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateClockInterval)}},{key:"setDateTime",value:function(e){var t,n=e.format24,a=e.showSeconds?":ss":"",r=V()().format("dddd, MMMM D");t=n?0===V()().get("hour")?V()().format("HH:mm"+a):V()().format("H:mm"+a):V()().format("h:mm"+a),this.setState({date:r,time:t})}},{key:"render",value:function(){var e={color:"#FFF",fontSize:140,fontWeight:"bold",margin:0,lineHeight:"90%",fontFamily:y.g.fontFamily},t={color:"#FFF",fontSize:28,margin:0,fontWeight:"normal",fontFamily:y.g.fontFamily};return u.a.createElement("div",{style:{marginBottom:110,pointerEvents:"none",userSelect:"none"}},u.a.createElement("h1",{style:e,"data-test-id":"clock-widget-time"},this.state.time),u.a.createElement("h2",{style:t,"data-test-id":"clock-widget-date"},this.state.date))}}]),t}(u.a.Component),jn=Object(N.createFragmentContainer)(wn,{widget:function(){return n(1449)},user:function(){return n(1450)}}),Sn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("span",null,this.props.children)}}]),t}(u.a.Component);Sn.defaultProps={};var xn=Sn,Fn=n(895),In=n.n(Fn),Tn=n(413),Un=n.n(Tn),Ln={color:y.g.textField.underlineColor},Nn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={showDeleteButton:!1},n.noteChangedTimer=0,n.hoverTimer=0,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.hoverTimer&&clearTimeout(this.hoverTimer),this.noteChangedTimer&&clearTimeout(this.noteChangedTimer)}},{key:"removeStickyNote",value:function(){this.props.removeStickyNote(this.props.index)}},{key:"onMouseHoverChange",value:function(e){var t=this;this.hoverTimer&&clearTimeout(this.hoverTimer),e?this.hoverTimer=setTimeout(function(){t.setState({showDeleteButton:!0})},500):this.setState({showDeleteButton:!1})}},{key:"onNoteClick",value:function(){this.noteInput.focus()}},{key:"onNoteChanged",value:function(e){var t=this;this.noteChangedTimer&&clearTimeout(this.noteChangedTimer);var n=e.target.value;this.noteChangedTimer=setTimeout(function(){t.props.onNoteUpdated&&t.props.onNoteUpdated(n,t.props.index)},500)}},{key:"getNoteDate",value:function(){var e="MMM D",t=V()(),n=V()(this.props.note.created);return t.date()===n.date()&&(e="h:mm A"),n.format(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.note,a=t.classes,r={margin:5,backgroundColor:y.f,borderRadius:3,borderLeftStyle:"solid",borderLeftColor:n.color,borderLeftWidth:5},i={style:{margin:5},labelColor:y.g.textField.underlineColor,backgroundColor:"rgba(0,0,0,0)"},o={cursor:"pointer",float:"right",margin:"5px 5px 0px 0px",opacity:this.state.showDeleteButton?1:0,transition:this.state.showDeleteButton?"opacity 0.2s ease-in 0.5s, ".concat("fill 0.15s ease-in"):"opacity 0.1s ease-in, ".concat("fill 0.15s ease-in"),pointerEvents:this.state.showDeleteButton?"all":"none",display:"inline-block"},l=this.getNoteDate();return u.a.createElement(xn,null,u.a.createElement("div",{key:"note_"+this.props.index,style:r,onClick:this.onNoteClick.bind(this),onMouseEnter:this.onMouseHoverChange.bind(this,!0),onMouseLeave:this.onMouseHoverChange.bind(this,!1)},u.a.createElement("div",{style:{display:"inline-block"}},u.a.createElement(In.a,{labelColor:i.labelColor,backgroundColor:i.backgroundColor,style:i.style},l)),u.a.createElement(Zt.a,{color:y.j,hoverColor:y.i,style:o,onClick:this.removeStickyNote.bind(this)}),u.a.createElement("div",{style:{padding:"0 15px 5px 15px"}},u.a.createElement(Un.a,{id:"note-content-"+this.props.index,InputProps:{disableUnderline:!0,style:{color:"#FFF",fontSize:14,fontFamily:y.g.fontFamily},classes:{input:a.textFieldInput}},multiline:!0,fullWidth:!0,placeholder:"Your note here...",defaultValue:n.content?n.content:"",onChange:this.onNoteChanged.bind(this),inputRef:function(t){e.noteInput=t}}))))}}]),t}(u.a.Component),Dn=Object(m.withStyles)(function(e){return{textFieldInput:{"&::-webkit-input-placeholder":Ln,"&::-moz-placeholder":Ln,"&:-ms-input-placeholder":Ln,"&::-ms-input-placeholder":Ln}}})(Nn),Mn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"create",value:function(){this.props.addNote("")}},{key:"render",value:function(){return u.a.createElement(dn,{widgetName:"Notes",onAddItemClick:this.create.bind(this)})}}]),t}(u.a.Component);Mn.defaultProps={};var Rn=Mn,An=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).noteColors=["#A5D6A7","#FFF59D","#FFF","#FF4081","#2196F3","#757575","#FF3D00"],n.state={notes:[]},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.widget,t=JSON.parse(e.data).notes||[];this.setState({notes:t})}},{key:"onSaveSuccess",value:function(){}},{key:"onSaveError",value:function(){this.props.showError("Oops, we are having trouble saving your widgets right now :(")}},{key:"updateWidget",value:function(e){var t={notes:e},n=JSON.stringify(t);bn.commit(this.props.relay.environment,this.props.user,this.props.widget,n,this.onSaveSuccess.bind(this),this.onSaveError.bind(this))}},{key:"addNewNote",value:function(e){var t=this,n=Math.floor(Math.random()*this.noteColors.length),a={id:this.randomString(6),color:this.noteColors[n],content:e,created:V.a.utc().format()};this.setState({notes:[a].concat(Object(Ft.a)(this.state.notes))},function(){t.updateWidget(t.state.notes),t.newestNote.noteInput.focus()})}},{key:"removeStickyNote",value:function(e){var t=this;this.setState({notes:this.state.notes.filter(function(t,n){return n!==e})},function(){t.updateWidget(t.state.notes)})}},{key:"updateStickyNote",value:function(e,t){var n=this,a=Object(Ft.a)(this.state.notes);a[t].content=e,this.setState({notes:a},function(){n.updateWidget(n.state.notes)})}},{key:"randomString",value:function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",a=e;a>0;--a)n+=t[Math.floor(Math.random()*t.length)];return n}},{key:"render",value:function(){var e,t=this;return this.state.notes.length||(e=u.a.createElement(At,{widgetName:"Notes"})),u.a.createElement(Tt,{containerStyle:{overflowX:"visible",overflowY:"visible",overflow:"visible"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:27}},u.a.createElement(Rn,{addNote:this.addNewNote.bind(this)}),u.a.createElement(Rt,null,e,this.state.notes.map(function(e,n){return u.a.createElement(Dn,{key:e.id,index:n,innerRef:function(e){0===n&&(t.newestNote=e)},removeStickyNote:t.removeStickyNote.bind(t),onNoteUpdated:t.updateStickyNote.bind(t),note:e})}))))}}]),t}(u.a.Component),Kn=Object(N.createFragmentContainer)(An,{widget:function(){return n(1474)},user:function(){return n(1475)}}),Pn=n(785),Wn=n.n(Pn),_n=n(896),Bn=n.n(_n),Vn=n(80),zn=n.n(Vn),Hn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={showDeleteButton:!1},n.hoverTimer=0,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.hoverTimer&&clearTimeout(this.hoverTimer)}},{key:"onMouseHoverChange",value:function(e){var t=this;this.hoverTimer&&clearTimeout(this.hoverTimer),e?this.hoverTimer=setTimeout(function(){t.setState({showDeleteButton:!0})},500):this.setState({showDeleteButton:!1})}},{key:"removeTodo",value:function(){var e=this.props.index;this.props.remove(e)}},{key:"onCompletedChange",value:function(){var e=this.props,t=e.index,n=e.completed;this.props.onCompletedChange(t,!n)}},{key:"render",value:function(){var e=this.props,t=e.todo,n=e.completed,a={container:{display:"flex",alignItems:"center",overflowWrap:"break-word",backgroundColor:y.f,borderRadius:3,margin:"5px 5px",paddingLeft:5},defaultTodoText:{flex:1,fontSize:14,fontFamily:y.g.fontFamily},todo:{color:"#FFF"},completed:{color:y.e,textDecoration:"line-through"}},r=u.a.createElement(tn.a,{color:"FFF",style:{color:"#FFF"}}),i=u.a.createElement(zn.a,{color:"#FFF"},u.a.createElement("svg",{fill:"#FFFFFF",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),u.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),o=Object.assign({},a.defaultTodoText,n?a.completed:a.todo),l={cursor:"pointer",margin:"0px 4px",opacity:this.state.showDeleteButton?1:0,transition:this.state.showDeleteButton?"opacity 0.2s ease-in 0.5s, ".concat("fill 0.15s ease-in"):"opacity 0.1s ease-in, ".concat("fill 0.15s ease-in"),pointerEvents:this.state.showDeleteButton?"all":"none",display:"inline-block"};return u.a.createElement(xn,null,u.a.createElement("div",{style:a.container,onMouseEnter:this.onMouseHoverChange.bind(this,!0),onMouseLeave:this.onMouseHoverChange.bind(this,!1)},u.a.createElement(Bn.a,{style:{width:"auto"},onCheck:this.onCompletedChange.bind(this),defaultChecked:n,checkedIcon:r,uncheckedIcon:i,iconStyle:{fill:n?y.e:y.d,marginRight:10}}),u.a.createElement("p",{style:o},t.text),u.a.createElement(Zt.a,{color:y.j,hoverColor:y.i,style:l,onClick:this.removeTodo.bind(this)})))}}]),t}(u.a.Component);Hn.defaultProps={completed:!1,remove:function(e){},onCompletedChange:function(e,t){}};var Gn=Hn,qn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={open:!1,textRequiredError:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"_handleKeyPress",value:function(e){"Enter"===e.key&&(e.shiftKey||(e.stopPropagation(),e.preventDefault(),this.create()))}},{key:"openForm",value:function(){var e=this;this.setState({open:!0},function(){e.focusInput()})}},{key:"closeForm",value:function(){this.setState({open:!1})}},{key:"focusInput",value:function(){this.todoTextField.focus()}},{key:"validateTodoText",value:function(){var e=this.todoTextField.input.refs.input.value;this.setState({textRequiredError:!e})}},{key:"create",value:function(){this.validateTodoText();var e=this.todoTextField.input.refs.input.value;e&&(this.props.addTodo(e),this.todoTextField.input.value="",this.closeForm())}},{key:"render",value:function(){var e=this,t={underlineStyle:{borderColor:y.g.textField.underlineColor},underlineFocusStyle:{borderColor:y.i},hintStyle:{color:y.g.textField.underlineColor,fontSize:14},inputStyle:{color:"#FFF",fontSize:14}};return u.a.createElement(dn,{open:this.state.open,widgetName:"Tasks",onAddItemClick:this.openForm.bind(this),onCancelAddItemClick:this.closeForm.bind(this),onItemCreatedClick:this.create.bind(this),widgetAddItemForm:u.a.createElement("span",{key:"widget-add-form-elem",style:{display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:20}},u.a.createElement(pn.a,{ref:function(t){e.todoTextField=t},multiLine:!0,onKeyPress:this._handleKeyPress.bind(this),hintText:"What do you need to do?",textareaStyle:t.inputStyle,hintStyle:t.hintStyle,underlineStyle:t.underlineStyle,underlineFocusStyle:t.underlineFocusStyle,onChange:this.validateTodoText.bind(this),errorText:this.state.textRequiredError?"Enter a todo":null}))})}}]),t}(u.a.Component);qn.defaultProps={};var $n=qn,Yn=n(633),Jn=n.n(Yn),Qn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={completed:[],todos:[]},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.widget,t=JSON.parse(e.data);this.setState({completed:t.completed||[],todos:t.todos||[]})}},{key:"completeTodo",value:function(e){this.setState({todos:this.state.todos.filter(function(t,n){return n!==e}),completed:[this.state.todos[e]].concat(Object(Ft.a)(this.state.completed))},this.updateWidget)}},{key:"setNotCompleted",value:function(e){this.setState({todos:[this.state.completed[e]].concat(Object(Ft.a)(this.state.todos)),completed:this.state.completed.filter(function(t,n){return n!==e})},this.updateWidget)}},{key:"addNewTodo",value:function(e){var t=e;if(t){var n={id:this.randomString(6),text:t};this.setState({todos:[].concat(Object(Ft.a)(this.state.todos),[n])},this.updateWidget)}}},{key:"removeCompletedTodo",value:function(e){this.setState({completed:this.state.completed.filter(function(t,n){return n!==e})},this.updateWidget)}},{key:"removeAllCompletedTodos",value:function(){this.setState({completed:[]},this.updateWidget)}},{key:"removeTodo",value:function(e){this.setState({todos:this.state.todos.filter(function(t,n){return n!==e})},this.updateWidget)}},{key:"getWidgetData",value:function(){var e={completed:this.state.completed,todos:this.state.todos};return JSON.stringify(e)}},{key:"onSaveSuccess",value:function(){}},{key:"onSaveError",value:function(){this.props.showError("Oops, we are having trouble saving your widgets right now :(")}},{key:"updateWidget",value:function(){var e=this.getWidgetData();bn.commit(this.props.relay.environment,this.props.user,this.props.widget,e,this.onSaveSuccess.bind(this),this.onSaveError.bind(this))}},{key:"randomString",value:function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",a=e;a>0;--a)n+=t[Math.floor(Math.random()*t.length)];return n}},{key:"render",value:function(){var e,t=this;return this.state.todos.length||this.state.completed.length||(e=u.a.createElement(At,{widgetName:"Todos"})),u.a.createElement(Tt,{containerStyle:{overflowX:"visible",overflowY:"visible",overflow:"visible"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:27}},u.a.createElement($n,{addTodo:this.addNewTodo.bind(this)}),u.a.createElement(Rt,null,e,this.state.todos.map(function(e,n){return u.a.createElement(Gn,{key:e.id,todo:e,index:n,completed:!1,onCompletedChange:t.completeTodo.bind(t),remove:t.removeTodo.bind(t)})}),this.state.completed.length?u.a.createElement(Jn.a,{style:{color:y.e,borderTop:"2px ".concat(y.h," solid"),borderBottom:"2px ".concat(y.h," solid"),lineHeight:"100%",margin:5,width:"auto",padding:"6px 12px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:14,fontFamily:y.g.fontFamily,backgroundColor:"rgba(0,0,0,.3)"},inset:!1},"Completed",u.a.createElement(Wn.a,{style:{fontSize:12,height:24,fontWeight:y.a,lineHeight:"24px",color:y.e},onClick:this.removeAllCompletedTodos.bind(this)},"CLEAR")):null,this.state.completed.map(function(e,n){return u.a.createElement(Gn,{key:e.id,todo:e,index:n,completed:!0,onCompletedChange:t.setNotCompleted.bind(t),remove:t.removeCompletedTodo.bind(t)})}))))}}]),t}(u.a.Component),Xn=Object(N.createFragmentContainer)(Qn,{widget:function(){return n(1482)},user:function(){return n(1483)}}),Zn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.widget,n=e.user;switch(t.type){case x.S:return u.a.createElement(vn,{widget:t,user:n,showError:this.props.showError});case x.V:return u.a.createElement(En,{widget:t,user:n});case x.T:return u.a.createElement(jn,{widget:t,user:n});case x.U:return u.a.createElement(Kn,{widget:t,user:n,showError:this.props.showError});case x.W:return u.a.createElement(Xn,{widget:t,user:n,showError:this.props.showError});default:return null}}}]),t}(u.a.Component),ea=Object(N.createFragmentContainer)(Zn,{widget:function(){return n(1484)},user:function(){return n(1485)}}),ta=n(176),na=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden",boxSizing:"border-box",pointerEvents:"none"}},this.props.children)}}]),t}(u.a.Component),aa=function(){return n(1486)};var ra={commit:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=t.id,o=n.id;return Object(N.commitMutation)(e,{mutation:aa,variables:{input:{userId:i,widgetId:o}},onCompleted:a,onError:r})}},ia=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(J.a,null,u.a.Children.map(this.props.children,function(e,t){return e?u.a.createElement(Q.a,{key:t,classNames:"active-widget",appear:!0,timeout:{enter:220,exit:220}},e):null}))}}]),t}(u.a.Component),oa=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onWidgetIconClicked",value:function(e){var t=this.props.user;t.activeWidget===e.id&&(e={id:"no-active-widget"}),ra.commit(this.props.relay.environment,t,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.isCampaignLive;if(!n)return null;return u.a.createElement(ta.a,null,u.a.createElement("span",null,u.a.createElement("div",{style:{position:"absolute",zIndex:2,top:5,display:"flex",justifyContent:"flex-start"},"data-tour-id":"widgets"},u.a.createElement("div",{style:{width:5}}),n.widgets.edges.map(function(t,a){return t.node.type===x.V?u.a.createElement(ea,{key:a,user:n,widget:t.node,showError:e.props.showError}):u.a.createElement(xt,{key:a,widget:t.node,active:n.activeWidget&&t.node.id===n.activeWidget,onWidgetIconClicked:e.onWidgetIconClicked.bind(e)})})),a?null:u.a.createElement(na,null,n.widgets.edges.map(function(t,a){if(t.node.type===x.T)return u.a.createElement(ea,{key:a,user:n,widget:t.node,"data-test-id":"widget-clock",showError:e.props.showError})})),u.a.createElement(ta.a,null,u.a.createElement(ia,null,n.widgets.edges.map(function(t,a){if(n.activeWidget&&t.node.id===n.activeWidget)return u.a.createElement(ea,{key:a,user:n,widget:t.node,showError:e.props.showError})})))))}}]),t}(u.a.Component);oa.defaultProps={isCampaignLive:!1};var la=oa,sa=Object(N.createFragmentContainer)(la,{user:function(){return n(1487)}}),ua=n(175),ca=n.n(ua),da=n(86),ma=function(){return n(1488)},pa=n(43),ga=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).timer=null,n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout(function(){var t;(t={userId:e.props.user.id,tabId:e.props.tabId},ca()(da.a,{mutation:ma,variables:{input:t}})).catch(function(e){lt.a.error(e)})},1e3),Object(pa.i)()}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){return null}}]),t}(u.a.Component),fa=Object(N.createFragmentContainer)(ga,{user:function(){return n(1489)}}),ha=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){0===this.props.user.tabs&&Object(v.a)()}},{key:"render",value:function(){return null}}]),t}(u.a.Component),ba=Object(N.createFragmentContainer)(ha,{user:function(){return n(1490)}}),ya=n(872),va=n(897),ka=n.n(va),Oa=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.title,a=e.message,r=e.buttonText,i=e.buttonURL,o=e.onClick,l=e.onDismiss,s=e.useGlobalDismissalTime;return u.a.createElement("div",{style:Object.assign({width:340},t)},u.a.createElement(H.a,{style:{padding:"6px 14px"}},u.a.createElement("span",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},u.a.createElement(S.a,{style:{fontWeight:"bold",marginBottom:8,marginTop:8},variant:"body2"},n),"string"===typeof a?u.a.createElement(S.a,{"data-test-id":"notification-message",variant:"body2"},a):u.a.createElement("div",{"data-test-id":"notification-message"},a),u.a.createElement("div",{style:{display:"flex",alignSelf:"flex-end",marginTop:10}},u.a.createElement(q.a,{color:"default",onClick:function(){s&&Object(pa.o)(),l&&l()}},"Dismiss"),r&&i?u.a.createElement(Fe.a,{to:i,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},u.a.createElement(q.a,{color:"primary",onClick:o||function(){}},r)):r&&o?u.a.createElement(q.a,{onClick:o,color:"primary"},r):null))))}}]),t}(u.a.Component);Oa.defaultProps={style:{},onDismiss:function(){},useGlobalDismissalTime:!1};var Ca=Oa,Ea=n(9),wa=n(211),ja=n(98),Sa=n(333),xa=n(125),Fa=function(){return n(1492)},Ia=function(e){return ca()(da.a,{mutation:Fa,variables:{input:e}})},Ta=function(){return n(1493)},Ua=n(223),La=Object(Ua.getAvailableAdUnits)(),Na=function(){var e;e=Da()?0:function(){var e=Object(pa.b)();return!!(e&&V()().diff(e,"hours")<24)}()?1:3;var t=La.leaderboard,n=La.rectangleAdPrimary,a=La.rectangleAdSecondary;return Object(M.a)({},e>0&&{leaderboard:t},e>1&&{rectangleAdPrimary:n},e>2&&{rectangleAdSecondary:a})},Da=function(){return Object(pa.c)()>150},Ma=function(){var e=Object(pa.b)();return!(!(!!e&&V()().diff(e,"hours")<4)||Object(pa.f)())},Ra=n(898),Aa=n.n(Ra),Ka=n(224),Pa=n.n(Ka),Wa=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={countdownClock:n.getCountdownClockText()},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"getCountdownClockText",value:function(){var e=V()(this.props.campaignEndDatetime).diff(V.a.utc(),"milliseconds");e<0&&(e=0);var t=V.a.duration(e,"milliseconds");return"".concat(parseInt(t.asDays(),10),"d ").concat(t.hours(),"h ").concat(t.minutes(),"m ").concat(t.seconds(),"s")}},{key:"componentDidMount",value:function(){var e=this;this.timeRemainingInterval=setInterval(function(){e.setState({countdownClock:e.getCountdownClockText()})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeRemainingInterval)}},{key:"render",value:function(){return u.a.createElement("span",null,this.state.countdownClock)}}]),t}(u.a.Component),_a=n(636),Ba=n(154),Va=n(634),za=n.n(Va),Ha=Object(m.createMuiTheme)(b.a),Ga=function(e){var t=e.children,n=e.classes,a=e.customTheme,r=void 0===a?{}:a,i=e.onDismiss,o=r.mainColor,l=r.lightColor;return u.a.createElement(m.MuiThemeProvider,{theme:Object(M.a)({},Ha,{palette:Object(M.a)({},Ha.palette,{primary:Object(M.a)({},Ha.palette.primary,o&&{main:o,dark:Object(Ba.darken)(o,.15)},l&&{light:l}),secondary:Object(M.a)({},Ha.palette.secondary,o&&{main:o,dark:Object(Ba.darken)(o,.15)},l&&{light:l})})})},u.a.createElement("div",{className:n.root},u.a.createElement(H.a,{elevation:1,className:n.paper},u.a.createElement("div",{className:n.borderTop,style:{backgroundColor:o||Ha.palette.secondary}}),u.a.createElement(Ne.a,{onClick:function(){Object(pa.n)(),i()},className:n.closeButton},u.a.createElement(za.a,null)),u.a.createElement("div",{className:n.campaignContent},t))))};Ga.defaultProps={onDismiss:function(){}};var qa=Object(m.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",boxSizing:"border-box",pointerEvents:"none"},paper:{position:"relative",pointerEvents:"all",minWidth:400,width:"100%",margin:0,padding:0,background:"#FFF",border:"none"},borderTop:{width:"100%",height:3,borderTopLeftRadius:2,borderTopRightRadius:2,backgroundColor:e.palette.secondary.main},closeButton:{position:"absolute",top:5,right:2},campaignContent:{padding:12}}},{withTheme:!0})(Ga),$a=function(e){var t=e.app,n=e.user,a=e.campaign,r=e.onDismiss,i=n.recruits.recruitsWithAtLeastOneTab,o=void 0===i?{}:i,l=a.time,s=a.treesPlantedGoal,c=V()().isAfter(l.end),d=t.campaign.goal.currentNumber,m=Object(le.a)(d),p=Object(le.a)(s),g=100*d/s,f=1===d?"tree":"trees",h={height:60,width:60},b=Object.assign({},h,{color:"#028502"}),y=Object.assign({},h,{color:"#BBB"});return u.a.createElement(qa,{onDismiss:r,customTheme:{mainColor:"#028502",lightColor:"#94989e"}},u.a.createElement(S.a,{variant:"h6",style:{textAlign:"center",marginTop:4}},c?"Thanks for planting trees!":"Recruit a friend, plant a tree"),u.a.createElement("div",{style:{margin:"14px 10px 14px",textAlign:"left"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:8}},u.a.createElement("div",null,o>0?u.a.createElement(Pa.a,{style:b}):u.a.createElement(Pa.a,{style:y}),o>1?u.a.createElement(Pa.a,{style:b}):u.a.createElement(Pa.a,{style:y}),o>2?u.a.createElement(Pa.a,{style:b}):u.a.createElement(Pa.a,{style:y})),u.a.createElement(S.a,{variant:"body2",gutterBottom:!0},o,"/3 trees planted"))),c?null:u.a.createElement("div",{style:{margin:16}},u.a.createElement(_a.a,{user:n,InputProps:{style:{fontSize:14}},label:"Share this link with a friend",helperText:"and you'll plant a tree when they join!",style:{minWidth:280}})),u.a.createElement("div",{style:{margin:12}},c?u.a.createElement(S.a,{variant:"body2"},"Together, we planted ",m," trees this holiday season! Great job, and thank you for spreading the word about Tab for a Cause!"):u.a.createElement(S.a,{variant:"body2"},"Now until January 5,"," ",u.a.createElement(Fe.a,{to:k.L,target:"_blank",rel:"noopener noreferrer",style:{color:"#028502"}},"we're planting a tree")," ","for every person who joins Tab for a Cause! (Use TikTok/Insta?"," ",u.a.createElement(Fe.a,{to:k.K,target:"_blank",rel:"noopener noreferrer",style:{color:"#028502"}},"Join our challenge."),")")))),u.a.createElement("div",{style:{marginTop:8,marginBottom:8,textAlign:"center"}},u.a.createElement("div",{"data-test-id":"trees-planted-progress-bar",style:{marginLeft:10,marginRight:10}},c?null:u.a.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},u.a.createElement(S.a,{variant:"caption"},m," ",f," planted"),u.a.createElement(S.a,{variant:"caption"},"Goal: ",p)),u.a.createElement(Aa.a,{color:"primary",variant:"determinate",value:g})),u.a.createElement(S.a,{variant:"caption"},u.a.createElement(Wa,{campaignStartDatetime:l.start,campaignEndDatetime:l.end})," ","remaining")))},Ya=Object(N.createFragmentContainer)($a,{app:function(){return n(1719)},user:function(){return n(1720)}}),Ja=V()("2020-11-30T17:00:00.000Z"),Qa=V()("2021-01-05T20:00:00.000Z"),Xa=Object(s.lazy)(function(){return Promise.all([n.e(10),n.e(14)]).then(n.bind(null,2056))}),Za=!1,er=function(){if(!Za){Za=!0;try{Object(Ua.fetchAds)({adUnits:Object.values(Na()),auctionTimeout:1e3,consent:{enabled:!0,timeout:500},publisher:{domain:Object(ja.c)(),pageUrl:Object(ja.b)()},logLevel:"error",onError:function(e){lt.a.error(e)},disableAds:!!Da(),useMockAds:!0})}catch(e){lt.a.error(e)}}};er();var tr=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={errorMessage:null,errorOpen:!1,tabId:_()(),isUserAnonymous:!1,userAlreadyViewedNewUserTour:"true"===Ea.a.getItem(x.F),showAdExplanation:Ma(),showNotification:Object(Sa.b)()&&!Object(pa.h)(),adUnitsToShow:Na(),showSearchIntroductionMessage:Object(Sa.c)(),userClickedSearchIntroV1:Object(pa.d)(),userClickedSearchIntroV2:Object(pa.e)(),referralNotificationExperimentGroup:Object(xa.d)(xa.a),hasUserDismissedCampaignRecently:Object(pa.g)(),browser:x.a},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.determineAnonymousStatus(),this.setState({browser:Object(wa.a)()}),er()}},{key:"determineAnonymousStatus",value:function(){var e=Object(K.a)(A.a.mark(function e(){var t,n,a=this;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ot.a)();case 2:return t=e.sent,n=t&&t.isAnonymous,e.abrupt("return",new Promise(function(e,t){a.setState({isUserAnonymous:n},function(){e()})}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"showError",value:function(e){this.setState({errorOpen:!0,errorMessage:e})}},{key:"clearError",value:function(){this.setState({errorOpen:!1})}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=a.user,i=a.app,o=this.state,l=o.adUnitsToShow,c=o.browser,d=o.hasUserDismissedCampaignRecently,m=o.userAlreadyViewedNewUserTour,p=o.referralNotificationExperimentGroup,g=o.showSearchIntroductionMessage,f=o.tabId,h=this.state,b=h.errorMessage,v=h.errorOpen,O=h.userClickedSearchIntroV1,C=function(e,t){if(e){var n,a=e.revenue,r=e.encodedRevenue,i=e.GAMAdvertiserId,o=e.GAMAdUnitId,l=e.adSize;n=Object(M.a)({userId:t.user.id,revenue:a},r&&{encodedRevenue:{encodingType:"AMAZON_CPM",encodedValue:r}},{dfpAdvertiserId:i.toString(),adSize:l,aggregationOperation:Object(P.isNil)(a)||Object(P.isNil)(r)?null:"MAX",tabId:t.tabId,adUnitCode:o}),ca()(da.a,{mutation:Ta,variables:{input:n}})}},E=function(e){lt.a.error(e)},w=!!(i&&i.campaign&&i.campaign.isLive),j=!!(w&&!d&&r.tabs>1),F=r&&V()().utc().diff(V()(r.joined),"hours")<2&&!m,I=g&&r&&r.searches<1&&!O&&!("CLICK"===r.experimentActions.searchIntro||"DISMISS"===r.experimentActions.searchIntro)&&r.tabs>3&&V()().utc().diff(V()(r.joined),"weeks")<6,U=Object(xa.c)(xa.a),N=!1;switch(p){case U.NO_NOTIFICATION:break;case U.COPY_A:N=!0,e="Together we can change the world!",t="Tab for a Cause is likely the easiest way to raise money for charity. Thanks to you, we are close to $1,000,000 raised. However, if each Tabber convinced just one friend to join, we'd raise MILLIONS together simply by browsing the web. Will you help us spread the word?";break;case U.COPY_B:N=!0,e="Earn more hearts!",t="Spread the word about Tab for a Cause and you'll earn 350 extra hearts for each friend that starts Tabbing!";break;case U.COPY_C:N=!0,e="Recruit your first friend",t="It looks like you haven't gotten any friends to join you on Tab for a Cause yet :( Could you let a few people know about it?";break;case U.COPY_D:N=!0,e="Help spread the word!",t="Sadly, most people don't know that Tab for a Cause exists. If you are enjoying raising money as you browse the web, could you increase your impact by telling a few friends about Tabbing?";break;case U.COPY_E:N=!0,e="Double your charitable impact!",t="Get a friend to join you on Tab for a Cause, and together we'll make the world an even better place."}var R={user:r,tabId:f},W=Object(T.get)(R,"user.id")&&Object(T.get)(R,"tabId");return u.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"hidden",overflowX:"auto",minWidth:1080},"data-test-id":"app-dashboard",key:"dashboard-key"},u.a.createElement(ne,{user:r,showError:this.showError.bind(this)}),r&&i?u.a.createElement(ta.a,null,u.a.createElement("div",{style:{position:"fixed",zIndex:10,top:14,right:10,display:"flex",flexDirection:"column"}},u.a.createElement(gt,{app:i,browser:c,user:r,isUserAnonymous:this.state.isUserAnonymous,showSparklySearchIntroButton:!1,onClickSparklySearchIntroButton:function(){Object(pa.q)(),n.setState({userClickedSearchIntroV2:!0})},showCampaignReopenButton:w&&d,onClickCampaignReopen:function(){n.setState({hasUserDismissedCampaignRecently:!1}),Object(pa.k)()}}),this.state.showNotification?u.a.createElement(Ca,{"data-test-id":"global-notification",useGlobalDismissalTime:!0,title:"Vote for the October Charity Spotlight",message:"\n                        This month, we'll highlight a charity chosen by our\n                        community. Nominate and vote for the nonprofit that means the most to you.",buttonText:"Vote",buttonURL:"https://forms.gle/Ly197Gu5W53UF6759",onDismiss:function(){n.setState({showNotification:!1})},style:{marginTop:4}}):null,N&&"CLICK"!==r.experimentActions.referralNotification&&"DISMISS"!==r.experimentActions.referralNotification?u.a.createElement(Ca,{"data-test-id":"experiment-referral-notification",title:e,message:t,buttonText:"Tell a friend",onClick:Object(K.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia({userId:r.id,experimentActions:Object(D.a)({},xa.a,"CLICK")});case 2:n.setState({referralNotificationExperimentGroup:!1}),Object(k.m)(k.o);case 4:case"end":return e.stop()}},e)})),onDismiss:Object(K.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia({userId:r.id,experimentActions:Object(D.a)({},xa.a,"DISMISS")});case 2:n.setState({referralNotificationExperimentGroup:!1});case 3:case"end":return e.stop()}},e)})),style:{width:380,marginTop:4}}):null,I?u.a.createElement(Ca,{"data-test-id":"search-intro-notif",title:"We're working on Search for a Cause",message:u.a.createElement("span",null,u.a.createElement(S.a,{variant:"body2",gutterBottom:!0},"You already know Tab for a Cause, where"," ",u.a.createElement("b",null,"tabs = money for charity"),". Now, we want to have an even bigger impact by making"," ",u.a.createElement("b",null,"searches = money for charity"),"."),u.a.createElement(S.a,{variant:"body2",gutterBottom:!0},"You're one of the first people we're introducing to Search for a Cause. It's early, but we think it's a great start, and we'd love your feedback. Will you test it out?")),buttonText:"Try it out",buttonURL:c===x.a?k.E:c===x.c?k.F:k.E,onClick:function(){n.setState({userClickedSearchIntroV1:!0}),Object(pa.p)()},onDismiss:function(){n.setState({userClickedSearchIntroV1:!0}),Object(pa.p)()},style:{width:440,marginTop:4}}):null)):null,this.state.isUserAnonymous&&r?u.a.createElement(ta.a,null,u.a.createElement("div",{"data-test-id":"anon-sign-in-prompt-dashboard",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:14}},u.a.createElement(H.a,null,u.a.createElement("div",{style:{padding:"6px 14px",display:"flex",alignItems:"center",background:y.e}},u.a.createElement(S.a,{variant:"body2"},"Sign in to save your progress!"),u.a.createElement(q.a,{color:"primary",style:{marginLeft:10,marginRight:10},onClick:function(){Object(k.m)(k.p,{noredirect:"true"})}},"Sign In"))))):null,u.a.createElement(sa,{user:r,isCampaignLive:j,showError:this.showError.bind(this)}),j&&i&&r?u.a.createElement(ta.a,null,u.a.createElement("div",{style:{zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",pointerEvents:"none"}},u.a.createElement("div",{style:{width:500,marginBottom:100}},u.a.createElement(Ya,{app:i,user:r,campaign:{time:{start:Ja,end:Qa},treesPlantedGoal:25e3},onDismiss:function(){n.setState({hasUserDismissedCampaignRecently:!0})}})))):null,F?u.a.createElement(s.Suspense,{fallback:null},u.a.createElement(Xa,{user:r})):null,u.a.createElement("div",{style:{position:"absolute",overflow:"visible",display:"flex",alignItems:"flex-end",flexDirection:"row-reverse",bottom:10,right:10}},u.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"visible"}},l.rectangleAdSecondary&&W?u.a.createElement(Ua.AdComponent,{adId:l.rectangleAdSecondary.adId,onAdDisplayed:function(e){C(e,R)},onError:E,style:{display:"flex",minWidth:300,overflow:"visible"}}):null,l.rectangleAdPrimary&&W?u.a.createElement(Ua.AdComponent,{adId:l.rectangleAdPrimary.adId,onAdDisplayed:function(e){C(e,R)},onError:E,style:{display:"flex",minWidth:300,overflow:"visible",marginTop:10}}):null),l.leaderboard&&W?u.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"visible",marginRight:10}},this.state.showAdExplanation&&r?u.a.createElement(ta.a,null,u.a.createElement("div",{"data-test-id":"ad-explanation",style:{display:"inline-block",float:"right"}},u.a.createElement(H.a,null,u.a.createElement("div",{style:{display:"flex",padding:"6px 14px",marginBottom:10,alignItems:"center",background:y.e}},u.a.createElement(ka.a,{color:y.h,style:{width:24,height:24,marginRight:14}}),u.a.createElement(S.a,{variant:"body2"},"Did you know? The ads here are raising money for charity."),u.a.createElement(q.a,{color:"primary",style:{marginLeft:20,marginRight:10},onClick:function(){Object(pa.r)(),n.setState({showAdExplanation:!1})}},"Got it"))))):null,u.a.createElement(Ua.AdComponent,{adId:l.leaderboard.adId,onAdDisplayed:function(e){C(e,R)},onError:E,style:{overflow:"visible",minWidth:728}})):null),r&&f?u.a.createElement(fa,{user:r,tabId:f}):null,r?u.a.createElement(ba,{user:r}):null,r?u.a.createElement(ya.a,{user:r,isNewUser:!1}):null,u.a.createElement(L.a,{message:b,open:v,onClose:this.clearError.bind(this)}))}}]),t}(u.a.Component);tr.defaultProps={};var nr,ar=tr,rr=Object(N.createFragmentContainer)(ar,{app:function(){return n(1721)},user:function(){return n(1722)}}),ir=n(635),or=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.authUser;return u.a.createElement("div",{style:{height:"100%",width:"100%"}},u.a.createElement(U.a,{query:nr||(nr=function(){return n(1723)}),variables:{userId:e.id,treeCampaignStartTime:"2020-11-30T17:00:00.000Z",treeCampaignEndTime:"2021-01-05T20:00:00.000Z"},render:function(e){var t=e.error,n=e.props;e.retry;if(t&&Object(T.get)(t,"source.errors")){return u.a.createElement(L.a,{message:"We had a problem loading your dashboard :("})}n||(n={});var a=n.app||null,r=n.user||null;return u.a.createElement(rr,{app:a,user:r})}}))}}]),t}(u.a.Component);or.defaultProps={};var lr=Object(ir.a)()(or),sr=n(867),ur=n.n(sr),cr=n(868);setTimeout(function(){Object(cr.a)()},1500);var dr=Object(s.lazy)(function(){return Promise.all([n.e(11),n.e(12)]).then(n.bind(null,2054))}),mr=Object(s.lazy)(function(){return Promise.all([n.e(1),n.e(7),n.e(8)]).then(n.bind(null,2053))}),pr=Object(s.lazy)(function(){return n.e(16).then(n.bind(null,2040))}),gr=Object(s.lazy)(function(){return n.e(17).then(n.bind(null,2041))}),fr=(Object(s.lazy)(function(){return Promise.all([n.e(0),n.e(9),n.e(15)]).then(n.bind(null,2055))}),Object(m.createMuiTheme)(b.a)),hr=h()(y.g),br=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.location,t=Object(le.h)(e.search),n=Object(le.i)(t.app);return u.a.createElement(m.MuiThemeProvider,{theme:fr},u.a.createElement(g.a,{muiTheme:hr},u.a.createElement(C.a,{brand:x.M},u.a.createElement(d.Helmet,{titleTemplate:"%s - Tab for a Cause",defaultTitle:"Tab for a Cause"},u.a.createElement("link",{rel:"icon",href:ur.a})),u.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:0,padding:0,border:"none"}},u.a.createElement(s.Suspense,{fallback:u.a.createElement(I,{app:n,delay:350})},u.a.createElement(c.d,null,u.a.createElement(c.b,{exact:!0,path:"/newtab/",component:lr}),u.a.createElement(c.b,{path:"/newtab/settings/",component:mr}),u.a.createElement(c.b,{path:"/newtab/account/",component:mr}),u.a.createElement(c.b,{path:"/newtab/profile/",component:mr}),u.a.createElement(c.b,{exact:!0,path:"/newtab/first-tab/",component:pr}),u.a.createElement(c.b,{exact:!0,path:"/newtab/uninstalled/",component:gr}),u.a.createElement(c.b,{path:"/newtab/auth/",component:dr}),null,u.a.createElement(c.a,{from:"*",to:"/newtab/"})))))))}}]),t}(u.a.Component);br.defaultProps={};t.default=O(br)},1735:function(e,t,n){"use strict";n.r(t);var a,r,i=n(1742),o=n(85),l=n(1743),s=n(0),u=n.n(s),c=n(51),d=n(4),m=n(5),p=n(7),g=n(6),f=n(8),h=n(217),b=n(218),y=n(12),v=n(337),k=n(15),O=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:0,padding:0,border:"none"}},this.props.children)}}]),t}(u.a.Component),C=n(258),E=n(212),w=n.n(E),j=(n(632),{apiKey:"AIzaSyDZKbk3DzJwA9nWLlpt6hjqhTm6WY-WOnk",authDomain:"tab-for-a-cause.firebaseapp.com",databaseURL:"https://tab-for-a-cause.firebaseio.com",projectId:"tab-for-a-cause"}),S=function(){w.a.initializeApp(j)},x=n(16);a=n(1734).default,r="/newtab/";var F=function(e){function t(e){var n;Object(d.a)(this,t),n=Object(p.a)(this,Object(g.a)(t).call(this,e));try{S()}catch(a){x.a.error(a)}return n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){try{0}catch(e){console.error(e)}}},{key:"render",value:function(){return u.a.createElement(C.a,null,u.a.createElement(O,null,u.a.createElement(v.Helmet,{onChangeClientState:function(e,t){try{var n=Object(b.filter)(Object(y.get)(t,"linkTags",[]),{rel:"icon"});if(!n.length)return;var a=n[n.length-1].href,r=document.querySelectorAll('link[rel="icon"][data-react-helmet]:not([href="'.concat(a,'"])'));if(!r.length)return;r.forEach(function(e){return e.parentNode.removeChild(e)});var i=document.querySelector('link[rel="icon"][data-react-helmet][href="'.concat(a,'"]'));if(i){var o=i.parentNode;o.removeChild(i),o.appendChild(i)}}catch(l){console.error(l)}}}),u.a.createElement(h.c,{history:k.e},u.a.createElement(h.d,null,u.a.createElement(h.b,{path:r,component:a})))))}}]),t}(u.a.Component),I=n(69);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));try{var T=[/^AbortError$/,/^GVLError$/],U=[/^Failed to fetch$/,/^Network Error$/,/^NetworkError when attempting to fetch resource.$/,/^A network error \(such as timeout, interrupted connection or unreachable host\)/,/^The operation is insecure.$/,/^Loading chunk/,/^Loading CSS chunk/,/^Failed to read the 'localStorage' property from 'Window': Access is denied for this document.$/];i.a({dsn:"https://16a4b33290c44b89979957634c3ff3e3@sentry.io/1014205",environment:"prod",debug:!1,integrations:[new l.a],maxBreadcrumbs:100,beforeSend:function(e,t){var n=t.originalException;if(!n||!n.message)return null;try{if(T.some(function(e){return e.test(n.name)})||U.some(function(e){return e.test(n.message)}))return null}catch(a){console.error(a)}return e},whitelistUrls:[/tab\.gladly\.io\/newtab\/static/,/prod-tab2017\.gladly\.io\/newtab\/static/,/dev-tab2017\.gladly\.io\/newtab\/static/,/tab\.gladly\.io\/search\/static/,/prod-tab2017\.gladly\.io\/search\/static/,/dev-tab2017\.gladly\.io\/search\/static/]})}catch(N){console.error(N)}try{var L=Object(I.c)();L&&o.c({username:L})}catch(N){console.error(N)}!function(){n(1733);var e=document.getElementById("root");e&&e.hasChildNodes()?Object(c.hydrate)(u.a.createElement(F,null),e,function(){}):Object(c.render)(u.a.createElement(F,null),e)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},176:function(e,t,n){"use strict";var a=n(4),r=n(5),i=n(7),o=n(6),l=n(8),s=n(0),u=n.n(s),c=n(1736),d=n(1737),m=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(c.a,null,u.a.Children.map(this.props.children,function(t,n){return t?u.a.createElement(d.a,{key:n,classNames:"fade-dashboard",appear:e.props.transitionAppear,timeout:{enter:800,exit:800}},t):null}))}}]),t}(u.a.Component);m.defaultProps={transitionAppear:!0},t.a=m},211:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(332),r=n(1),i=function(){var e;switch(Object(a.a)().name){case"chrome":case"chromium":case"crios":e=r.a;break;case"firefox":e=r.c;break;default:e=r.N}return e}},215:function(e,t,n){"use strict";var a=n(16),r=function(){var e=window.fbq;e||a.a.error("Facebook analytics are not available on `window.fbq`.");try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(void 0,n)}catch(i){a.a.error(i)}},i=n(4),o=n(5),l=n(335);try{l.a.initialize("UA-24159386-1")}catch(b){a.a.error(b)}var s=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"pageview",value:function(){try{var e="".concat(window.location.pathname).concat(window.location.search);"Logging GA pageview with url: ".concat(e),l.a.pageview(e)}catch(b){a.a.error(b)}}},{key:"event",value:function(e){try{JSON.stringify(e),l.a.event(e)}catch(b){a.a.error(b)}}},{key:"ga",value:function(e,t){try{JSON.stringify(t),l.a.ga(e,t)}catch(b){a.a.error(b)}}}]),e}(),u=function(){var e=window.rdt;e||a.a.error("Reddit analytics are not available on `window.rdt`.");try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(void 0,n)}catch(b){a.a.error(b)}};n.d(t,"c",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return h});var c=function(){r("track","PageView"),s.pageview()},d=function(){r("track","Lead",{content_name:"SignupButtonClick"}),s.event({category:"ButtonClick",action:"SignupButtonClick"})},m=function(){r("track","Lead",{content_name:"SocialSignupButtonClick"}),s.event({category:"ButtonClick",action:"SocialSignupButtonClick"})},p=function(){r("track","Lead",{content_name:"EmailSignupButtonClick"}),s.event({category:"ButtonClick",action:"EmailSignupButtonClick"})},g=function(){r("track","CompleteRegistration",{content_name:"AccountCreated"}),s.event({category:"ButtonClick",action:"AccountCreation"}),u("track","SignUp"),window.gtag("event","conversion",{send_to:"AW-1013744060/v2M_COqV6owBELyDsuMD"})},f=function(){return new Promise(function(e){s.ga("send",{hitType:"event",eventCategory:"Search",eventAction:"SearchExecuted",hitCallback:e}),setTimeout(function(){e()},200)})},h=function(){r("track","PageView"),r("track","ViewContent",{content_name:"Newtab"})}},257:function(e,t,n){"use strict";var a=n(31),r=Object(a.createMuiTheme)({palette:{primary:{main:"#9d4ba3",contrastText:"#fff"},secondary:{main:"#4a90e2",contrastText:"#fff"}},typography:{useNextVariants:!0,fontSize:14,fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',h5:{lineHeight:"1.24"},title:{lineHeight:"1.7em"},body2:{lineHeight:"1.3"},subheading:{lineHeight:"1.16667em"}},shape:{borderRadius:2},overrides:{MuiButtonBase:{root:{color:"rgba(0, 0, 0, 0.87)"}},MuiListSubheader:{root:{fontSize:12,textTransform:"uppercase"}}}});t.a=r},258:function(e,t,n){"use strict";var a=n(4),r=n(5),i=n(7),o=n(6),l=n(8),s=n(0),u=n.n(s),c=n(16),d=n(21),m=n.n(d),p=n(78),g=n.n(p),f=n(362),h=n(15),b=n(98),y=n(1),v=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={hasError:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidCatch",value:function(e,t){c.a.error(e)}},{key:"render",value:function(){var e=this.props,t=e.brand,n=e.ignoreErrors;return this.state.hasError?n?null:u.a.createElement("div",{style:{margin:0,padding:0,height:"100vh"}},u.a.createElement("div",{style:{padding:"20px 40px",position:"absolute",top:0,left:0}},u.a.createElement(f.a,{brand:t,includeText:!0,style:{height:40}})),u.a.createElement("div",{style:{height:"100vh",display:"flex",padding:"0px 0px 80px 0px",justifyContent:"center",alignItems:"center",boxSizing:"border-box"}},u.a.createElement("div",{style:{maxWidth:400}},u.a.createElement(m.a,{variant:"h6",style:{margin:10}},"Oops!"),u.a.createElement(m.a,{variant:"body1",style:{margin:10}},"There was an error on the page. Please try reloading, or contact us if the problem continues."),u.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20}},u.a.createElement(g.a,{color:"default",style:{margin:10},onClick:function(){Object(b.a)(h.j)}},"Contact us"),u.a.createElement(g.a,{color:"primary",variant:"contained",style:{margin:10},onClick:function(){window.location.reload()}},"Reload"))))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(u.a.Component);v.defaultProps={brand:y.M,ignoreErrors:!1},t.a=v},259:function(e,t,n){"use strict";var a=n(1),r=function(e){var t,n;t="background-settings",n=e,window.top.postMessage({type:t,data:n},"*")},i=n(9);n.d(t,"e",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d});var o=function(e,t,n,r){i.a.setItem(a.s,e),i.a.setItem(a.q,t),i.a.setItem(a.p,n),i.a.setItem(a.r,r),l(e,t,n,r)},l=function(e,t,n,a){r({backgroundOption:e,customImage:t,backgroundColor:n,imageURL:a})},s=function(){return i.a.getItem(a.s)},u=function(){return i.a.getItem(a.q)},c=function(){return i.a.getItem(a.p)},d=function(){return i.a.getItem(a.r)}},331:function(e,t,n){"use strict";var a=n(20),r=n(18),i=n.n(r),o=n(35),l=n(19),s=n.n(l),u=n(15),c=n(36),d=n(69),m=n(86),p=n(14),g=function(){return n(1328)};var f=function(e,t,n,a,r,i,o,l,s){return Object(p.commitMutation)(e,{mutation:g,variables:{input:{userId:t,email:n,referralData:a,experimentGroups:r,extensionInstallId:i,extensionInstallTimeApprox:o}},onCompleted:function(e){l(e)},onError:function(e){s(e)}})},h=function(){return n(1329)};var b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return Object(p.commitMutation)(e,{mutation:h,variables:{input:{userId:t}},onCompleted:n,onError:a})},y=n(125),v=n(333),k=n(43),O=n(16);n.d(t,"b",function(){return j}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return x}),n.d(t,"a",function(){return F});var C=function(){var e=Object(k.b)();return!!e&&s()().diff(e,"days")<4},E=function(){var e=Object(k.b)();return e&&s()().diff(e,"seconds")<30},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.f)()?Object(u.C)(u.c,e):Object(u.C)(u.p,e)},j=function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E()){e.next=22;break}return e.prev=1,e.next=4,Object(d.i)();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:return e.prev=9,e.next=12,x();case 12:e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(9),e.t1;case 17:return e.next=19,Object(d.a)();case 19:return e.abrupt("return",e.sent);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e,null,[[1,6],[9,14]])}));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=e.authUser,n=e.user,r=void 0===n?null:n,i=e.urlParams,o=void 0===i?{}:i,l=!0;return t&&t.id?t.isAnonymous?!function(){var e=C();return Object(v.a)()&&e}()?C()?(w(o),l=!0):(w(Object(a.a)({mandatory:"true"},o)),l=!0):l=!1:t.email?t.emailVerified?t.username?l=!1:r&&r.username?(Object(d.h)(r.username),l=!1):(Object(u.C)(u.i,o),l=!0):(Object(u.C)(u.N,o),l=!0):(Object(u.C)(u.z,o),l=!0):(w(o),l=!0),l},x=function(){return Object(d.b)(!0).then(function(){return Object(d.a)().then(function(e){if(!e||!e.id)throw new Error("Cannot create a new user. User is not authenticated.");var t=Object(c.d)(),n=Object(y.e)(),a=Object(k.a)(),r=Object(k.b)();return new Promise(function(i,o){f(m.a,e.id,e.email,t,n,a,r,function(e){i(e.createNewUser)},function(e){console.error("Could not create new user:"),o(e)})})}).catch(function(e){O.a.error(e)})}).catch(function(e){throw O.a.error(e),e})},F=function(){return new Promise(function(e,t){var n=0,a=15,r=250;!function i(){if(n>a)return e(!1);Object(d.a)().then(function(a){a&&a.emailVerified?Object(d.b)(!0).then(function(){b(m.a,a.id,function(){},function(e){O.a.error(e)}),e(!0)}).catch(function(e){O.a.error(e),t(e)}):(n+=1,Object(d.f)().then(function(){setTimeout(function(){i()},r)}).catch(function(e){O.a.error(e),t(e)}))}).catch(function(e){O.a.error(e),t(e)})}()})}},333:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i});var a=function(){return!1},r=function(){return!1},i=function(){return!0}},338:function(e,t,n){"use strict";var a=n(70),r=n(0),i=n.n(r),o=n(876),l=n.n(o),s=function(e){var t=e.message,n=e.open,r=e.style,o=Object(a.a)(e,["message","open","style"]);return t?i.a.createElement(l.a,Object.assign({anchorOrigin:{vertical:"bottom",horizontal:"center"},style:r,"data-test-id":"error-message",autoHideDuration:4e3},o,{message:t,open:n})):null};s.defaultProps={message:null,open:!0,style:{}},t.a=s},36:function(e,t,n){"use strict";n.d(t,"j",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return b});var a=n(20),r=n(9),i=n(1),o=n(99),l=n.n(o),s=function(e){return e.length<2?{isValid:!1,reason:"TOO_SHORT"}:e.length>30?{isValid:!1,reason:"TOO_LONG"}:e.indexOf("@")>-1?{isValid:!1,reason:"NO_AT_SIGN"}:e.indexOf(" ")>-1?{isValid:!1,reason:"NO_SPACES"}:{isValid:!0,reason:"NONE"}},u=function(){return c(window.location.search)},c=function(e){return l.a.parse(e,{ignoreQueryPrefix:!0})},d=function(){var e=r.a.getItem(i.I)||r.a.getItem(i.l),t=r.a.getItem(i.J)||r.a.getItem(i.m);return Object(a.a)({},e&&{referringChannel:e},t&&{referringUser:t})},m=function(e){if(void 0===e||null===e)return"0";var t=e=e.toString(),n=null;if(e.indexOf(".")>-1){var a=e.split(".",2);n=a[1],t=parseInt(a[0])}if(isNaN(t))return"";var r="";t<0&&(r="-");var i=(t=Math.abs(t)).toString();for(a=[];i.length>3;){var o=i.substr(i.length-3);a.unshift(o),i=i.substr(0,i.length-3)}return i.length>0&&a.unshift(i),i=a.join(","),e=r+(e=null===n?i:n.length<1?i:i+"."+n)},p=function(e){if(void 0===e||null===e)return"0.00";var t=parseFloat(e);isNaN(t)&&(t=0);var n="";t<0&&(n="-"),t=Math.abs(t),t=parseInt(100*(t+.005));var a=(t/=100).toString();return a.indexOf(".")<0&&(a+=".00"),a.indexOf(".")===a.length-2&&(a+="0"),a=n+a},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n&&e<n)return m(e);if(void 0===e||null===e||0===e)return"0";t=!t||t<0?0:t;var a=e.toPrecision(2).split("e"),r=1===a.length?0:Math.floor(Math.min(a[1].slice(1),14)/3),i=r<1?e.toFixed(0+t):(e/Math.pow(10,3*r)).toFixed(t);return(i<0?i:Math.abs(i))+["","K","M","B","T"][r]},f=function(){try{return window.self!==window.top}catch(e){return!0}},h=function(e){var t=!1;return{promise:new Promise(function(n,a){e.then(function(e){return t?a({isCanceled:!0}):n(e)},function(e){return a(t?{isCanceled:!0}:e)})}),cancel:function(){t=!0}}},b=function(e){return[i.M,i.e].indexOf(e)>-1?e:i.M}},362:function(e,t,n){"use strict";var a=n(70),r=n(4),i=n(5),o=n(7),l=n(6),s=n(8),u=n(0),c=n.n(u),d=n(3),m=n.n(d),p=n(625),g=n.n(p),f=n(626),h=n.n(f),b=n(627),y=n.n(b),v=n(414),k=n.n(v),O=n(628),C=n.n(O),E=n(873),w=n.n(E),j=n(1),S=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.brand,r=t.color,i=t.includeText,o=t.style,l=Object(a.a)(t,["brand","color","includeText","style"]),s=Object.assign({},{height:40},o);switch(n){case j.M:if(i){e=k.a;break}switch(r){case"default":case"purple":e=g.a;break;case"white":e=h.a;break;case"grey":e=y.a;break;default:throw new Error('No "tab" logo exists with color "'.concat(r,'".'))}break;case j.e:if(i){e=w.a;break}switch(r){case"default":case"teal":e=C.a;break;case"white":e=h.a;break;case"grey":e=y.a;break;default:throw new Error('No "search" logo exists with color "'.concat(r,'".'))}break;default:throw new Error('No logo exists for brand "'.concat(n,'".'))}return c.a.createElement("img",Object.assign({style:s,src:e},l))}}]),t}(c.a.Component);S.props={brand:m.a.oneOf([j.M,j.e]).isRequired,includeText:m.a.bool.isRequired,style:m.a.object,color:m.a.oneOf(["default","purple","teal","white","grey"])},S.defaultProps={brand:j.M,includeText:!1,style:{},color:"default"},t.a=S},410:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(18),n(35),n(12),n(1),n(36),n(211);var a=function(){try{return"ReactSnap"===navigator.userAgent}catch(e){return!1}}},414:function(e,t,n){e.exports=n.p+"static/media/logo-with-text.257bbffc.svg"},43:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return g}),n.d(t,"a",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"r",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"o",function(){return k}),n.d(t,"h",function(){return O}),n.d(t,"p",function(){return C}),n.d(t,"d",function(){return E}),n.d(t,"q",function(){return w}),n.d(t,"e",function(){return j}),n.d(t,"n",function(){return S}),n.d(t,"k",function(){return x}),n.d(t,"g",function(){return F}),n.d(t,"j",function(){return I});var a=n(19),r=n.n(a),i=n(415),o=n.n(i),l=n(9),s=n(1),u=function(){var e=l.a.getItem(s.L),t=parseInt(e,10);return isNaN(t)?0:t},c=function(){var e=l.a.getItem(s.K);return e?r()(e).utc().format("LL")===r()().utc().format("LL"):0},d=function(){return c()?u():0},m=function(e){l.a.setItem(s.L,e)},p=function(){if(c()){var e=u();m(e+1)}else l.a.setItem(s.K,r.a.utc().toISOString()),m(1)},g=function(){l.a.setItem(s.z,o()())},f=function(){var e=l.a.getItem(s.z);return e||null},h=function(){l.a.setItem(s.o,r.a.utc().toISOString())},b=function(){var e=l.a.getItem(s.o),t=r()(e);return e&&t.isValid()?t:null},y=function(){l.a.setItem(s.w,"true")},v=function(){return"true"===l.a.getItem(s.w)},k=function(){l.a.setItem(s.H,r.a.utc().toISOString())},O=function(){var e=l.a.getItem(s.H),t=r()(e);return!(!e||!t.isValid())&&r()().utc().diff(t,"days")<8},C=function(){l.a.setItem(s.u,"true")},E=function(){return"true"===l.a.getItem(s.u)},w=function(){l.a.setItem(s.v,"true")},j=function(){return"true"===l.a.getItem(s.v)},S=function(){l.a.setItem(s.t,r.a.utc().toISOString())},x=function(){l.a.removeItem(s.t)},F=function(){var e=l.a.getItem(s.t),t=r()(e);return!(!e||!t.isValid())&&r()().utc().diff(t,"days")<14},I=function(){return"true"===l.a.getItem(s.G)}},625:function(e,t,n){e.exports=n.p+"static/media/logo.539ef9c6.svg"},626:function(e,t,n){e.exports=n.p+"static/media/logo-white.88080bea.svg"},627:function(e,t,n){e.exports=n.p+"static/media/logo-grey.1d033414.svg"},628:function(e,t,n){e.exports=n.p+"static/media/search-logo.540345c0.svg"},631:function(e,t,n){"use strict";var a=n(70),r=n(4),i=n(5),o=n(7),l=n(6),s=n(8),u=n(0),c=n.n(u),d=n(14),m=n(12),p=n(86),g=n(331),f=n(1),h=n(16),b=n(36),y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).createNewUserAttempts=0,n.createNewUserPromise=null,n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.createNewUserPromise&&this.createNewUserPromise.cancel&&this.createNewUserPromise.cancel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.render,r=Object(a.a)(t,["render"]);return c.a.createElement(d.QueryRenderer,Object.assign({environment:p.a,render:function(t){var a=t.error,r=t.props,i=t.retry,o=a;a&&Object(m.get)(a,"source.errors")&&(a.source.errors.some(function(e){return e.code===f.b})&&e.createNewUserAttempts<5?(o=null,e.createNewUserAttempts=e.createNewUserAttempts+1,e.createNewUserPromise=Object(b.g)(Object(g.c)()),e.createNewUserPromise.promise.then(function(e){i()}).catch(function(e){e&&e.isCanceled||h.a.error(e)})):h.a.error(a));return n({error:o,props:r,retry:i})}},r))}}]),t}(c.a.Component);y.defaultProps={},t.a=y},635:function(e,t,n){"use strict";var a=n(18),r=n.n(a),i=n(35),o=n(4),l=n(5),s=n(7),u=n(6),c=n(8),d=n(0),m=n.n(d),p=n(69),g=n(331),f=n(16),h=n(36),b=n(1),y=n(410);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={authUser:null,authStateLoaded:!1,userCreationInProgress:!1},t.authListenerUnsubscribe=null,t.userCreatePromise=null,t.mounted=!1,t}return Object(c.a)(a,n),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.mounted=!0;var n=e.setNullUserWhenPrerendering;(void 0===n||n)&&Object(y.a)()?this.setState({authUser:null,authStateLoaded:!0}):this.authListenerUnsubscribe=Object(p.e)(function(e){t.determineAuthState(e)})}},{key:"componentWillUnmount",value:function(){"function"===typeof this.authListenerUnsubscribe&&this.authListenerUnsubscribe(),this.userCreatePromise&&this.userCreatePromise.cancel&&this.userCreatePromise.cancel(),this.mounted=!1}},{key:"determineAuthState",value:function(){var t=Object(i.a)(r.a.mark(function t(n){var a,i,o,l,s,u,c,d,m,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.app,i=void 0===a?b.M:a,o=e.createUserIfPossible,l=void 0===o||o,s=e.redirectToAuthIfIncomplete,u=void 0===s||s,c=n,n&&n.id||!l){t.next=23;break}if(i!==b.e){t.next=7;break}console.warn("Anonymous user creation is not yet supported in the Search app."),t.next=23;break;case 7:return this.setState({userCreationInProgress:!0}),t.prev=8,this.userCreatePromise=Object(h.g)(Object(g.b)()),t.next=12,this.userCreatePromise.promise;case 12:c=t.sent,t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(8),!t.t0||!t.t0.isCanceled){t.next=19;break}return t.abrupt("return");case 19:f.a.error(t.t0);case 20:if(this.mounted){t.next=22;break}return t.abrupt("return");case 22:this.setState({userCreationInProgress:!1});case 23:if(d=window.location.href,m=!1,u)try{p={app:i,next:d},m=Object(g.d)({authUser:c,urlParams:p})}catch(r){f.a.error(r)}!m&&this.mounted&&this.setState({authUser:c,authStateLoaded:!0});case 27:case"end":return t.stop()}},t,this,[[8,15]])}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var n=e.renderWhileDeterminingAuthState,a=void 0!==n&&n,r=e.renderIfNoUser,i=void 0!==r&&r,o=this.state,l=o.authUser,s=o.authStateLoaded,u=o.userCreationInProgress;return(a||s&&!u)&&(l||i)?m.a.createElement(t,Object.assign({authUser:l},this.props)):null}}]),a}(m.a.Component);return n.displayName="withUser(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),n}}},636:function(e,t,n){"use strict";var a=n(14),r=n(20),i=n(70),o=n(4),l=n(5),s=n(7),u=n(6),c=n(8),d=n(0),m=n.n(d),p=n(12),g=n(413),f=n.n(g),h=n(31),b=n(175),y=n.n(b),v=n(86),k=function(){return n(1716)},O=n(16),C=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"getReferralUrl",value:function(){var e=this.props,t=e.baseURL,n=e.user,a=Object(p.get)(n,"username"),r=t||"https://tab.gladly.io";return a?"".concat(r,"/?u=").concat(encodeURIComponent(a)):r}},{key:"onTextFieldClicked",value:function(){this.input&&this.input.select();var e,t=this.props.user;if(t)return(e={userId:t.id},y()(v.a,{mutation:k,variables:{input:e}})).catch(function(e){O.a.error(e)})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.baseURL,t.classes),a=t.user,o=Object(i.a)(t,["baseURL","classes","user"]),l=this.getReferralUrl();return m.a.createElement(f.a,Object.assign({id:"refer-friend-input",inputRef:function(t){e.input=t},onClick:this.onTextFieldClicked.bind(this),value:l,label:"Share this link",helperText:Object(p.get)(a,"username")?"and you'll get 350 Hearts for every person who joins!":"and have a bigger positive impact!"},o,{InputProps:Object(r.a)({},Object(p.get)(o,"InputProps",{}),{classes:{underline:n.inputUnderline}}),InputLabelProps:Object(r.a)({},Object(p.get)(o,"InputLabelProps",{}),{FormLabelClasses:{root:n.formLabelRoot,focused:n.formLabelFocused}})}))}}]),t}(m.a.Component);C.defaultProps={style:{}};var E=Object(h.withStyles)(function(e){return{inputUnderline:{"&:after":{borderColor:e.palette.secondary.main}},formLabelRoot:{"&$formLabelFocused":{color:e.palette.secondary.main}},formLabelFocused:{}}})(C);t.a=Object(a.createFragmentContainer)(E,{user:function(){return n(1717)}})},69:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return O}),n.d(t,"i",function(){return C}),n.d(t,"f",function(){return E});var a=n(18),r=n.n(a),i=n(35),o=n(212),l=n.n(o),s=(n(632),n(9)),u=n(1),c=n(15),d=n(16),m=function(){return s.a.getItem(u.A)},p=function(e){return s.a.setItem(u.A,e)},g=function(e){return{id:e.uid,email:e.email,username:m(),isAnonymous:e.isAnonymous,emailVerified:e.emailVerified}},f=function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.abrupt("return",new Promise(function(e,t){try{var n=l.a.auth().onAuthStateChanged(function(t){n&&"function"===typeof n&&n(),e(t||null)})}catch(a){t(a)}}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",g(t));case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),b=function(e){return l.a.auth().onAuthStateChanged(function(t){var n=null;n=t?g(t):null,e(n)})},y=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!(a=n.getIdToken(t))){e.next=11;break}return e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){l.a.auth().signOut().then(function(){s.a.removeItem(u.A),s.a.removeItem(u.K),s.a.removeItem(u.L),s.a.removeItem(u.B),s.a.removeItem(u.C),s.a.removeItem(u.D),s.a.removeItem(u.J),s.a.removeItem(u.I),s.a.removeItem(u.E),s.a.removeItem(u.F),s.a.removeItem(u.z),s.a.removeItem(u.o),s.a.removeItem(u.x),s.a.removeItem(u.G),e(!0)}).catch(function(t){d.a.error(t),e(!1)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.continueURL,e.abrupt("return",new Promise(function(e,n){try{t.sendEmailVerification({url:a}).then(function(){e(!0)}).catch(function(t){d.a.error(t),e(!1)})}catch(r){n(r)}}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,i,o,l=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.continueURL,a=void 0===n?Object(c.a)(c.i):n,e.prev=1,e.next=4,f();case 4:if(i=e.sent){e.next=8;break}return d.a.error("Could not send confirmation email: no authenticated user."),e.abrupt("return",!1);case 8:return e.next=10,k(i,{continueURL:a});case 10:return o=e.sent,e.abrupt("return",o);case 14:return e.prev=14,e.t0=e.catch(1),d.a.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){l.a.auth().signInAnonymously().then(function(t){var n=t.user,a=n?g(n):null;e(a)}).catch(function(e){t(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:if(t){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,t.reload();case 13:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},761:function(e,t,n){"use strict";var a=n(14),r=function(){return n(1341)};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return Object(a.commitMutation)(e,{mutation:r,variables:{input:{userId:t}},onCompleted:n,onError:i})}},86:function(e,t,n){"use strict";var a=n(18),r=n.n(a),i=n(35),o=n(69),l=n(16),s=n(166),u=s.Environment,c=s.Network,d=s.RecordSource,m=s.Store;function p(){return(p=Object(i.a)(r.a.mark(function e(t,n,a,i){var s,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)();case 3:return s=e.sent,(u={Accept:"application/json","Content-Type":"application/json"}).Authorization=s||"unauthenticated",e.abrupt("return",fetch("//".concat("tab.gladly.io/graphql/"),{method:"POST",headers:u,body:JSON.stringify({query:t.text,variables:n})}).then(function(e){return e.json().then(function(e){return e.errors&&e.errors.length>0?(console.error("Errors in Relay environment fetch:"),console.error(e.errors),e.data=null,e):e})}));case 9:e.prev=9,e.t0=e.catch(0),l.a.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var g=c.create(function(e,t,n,a){return p.apply(this,arguments)}),f=new m(new d);t.a=new u({network:g,store:f})},867:function(e,t,n){e.exports=n.p+"static/media/favicon.383ee514.ico"},868:function(e,t,n){"use strict";var a=n(18),r=n.n(a),i=n(35),o=n(869),l=n.n(o),s=n(16),u=n(414),c=n.n(u),d=function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,l.a.initializeCMP({debug:!1,displayPersistentConsentLink:!1,onError:function(e){s.a.error(e)},primaryButtonColor:"#9d4ba3",publisherName:"Tab for a Cause",publisherLogo:c.a});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();t.a=d},87:function(e,t,n){"use strict";var a=n(70),r=n(4),i=n(5),o=n(7),l=n(6),s=n(8),u=n(0),c=n.n(u),d=n(339),m=n(98),p=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.to,r=e.style,i=e.className,o=Object(a.a)(e,["children","to","style","className"]),l=!Object(m.e)(n)&&!Object(m.d)(n),s=Object.assign({},r,{textDecoration:"none"});return l?c.a.createElement(d.a,Object.assign({to:n,style:s,className:i},o),t):c.a.createElement("a",Object.assign({href:n,style:s,className:i},o),t)}}]),t}(c.a.Component);p.defaultProps={style:{},className:""},t.a=p},872:function(e,t,n){"use strict";var a=n(14),r=n(4),i=n(5),o=n(7),l=n(6),s=n(8),u=n(0),c=n.n(u),d=n(125),m=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;Object(d.b)({id:e.id,numUsersRecruited:e.numUsersRecruited,joined:e.joined,isNewUser:this.props.isNewUser})}},{key:"render",value:function(){return null}}]),t}(c.a.Component);m.defaultProps={isNewUser:!1};var p=m;t.a=Object(a.createFragmentContainer)(p,{user:function(){return n(1491)}})},873:function(e,t,n){e.exports=n.p+"static/media/search-logo-with-text.79992baf.svg"},9:function(e,t,n){"use strict";var a={setItem:function(e,t){try{localStorage.setItem(e,t)}catch(n){console.log("localStorage not supported. ",n)}},getItem:function(e){try{return localStorage.getItem(e)}catch(t){return console.log("localStorage not supported. ",t),null}},removeItem:function(e){try{localStorage.removeItem(e)}catch(t){console.log("localStorage not supported. ",t)}}};t.a=a},919:function(e,t,n){e.exports=n(1735)},98:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return l});var a=function(e){if(i(e))return!0;var t=new URL(e,window.location.origin);if(!(t.hostname===window.location.hostname))return!0;var n=["newtab","search"],a=t.pathname.split("/")[1],r=window.location.pathname.split("/")[1];return(n.indexOf(a)>-1||n.indexOf(r)>-1)&&a!==r},r=function(e){window.location=e},i=function(e){return!(!e.startsWith("http://")&&!e.startsWith("https://"))},o=function(){return window.location.hostname},l=function(){return window.location.href}}},[[919,3,6]]]);
//# sourceMappingURL=index.5cacb439.chunk.js.map